{"ast":null,"code":"import\"antd/es/input/style\";import _Input from\"antd/es/input\";import _toConsumableArray from\"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{PlusOutlined}from'@ant-design/icons';import{TagStyle}from'./style';var CheckableTag=TagStyle.CheckableTag;var Tag=function Tag(props){var _useState=useState({checked:true,selectedTags:[]}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var closable=props.closable,onClose=props.onClose,color=props.color,checked=props.checked,onChange=props.onChange,data=props.data,hottags=props.hottags,animate=props.animate,children=props.children;var tagsFromServer=data;var log=function log(e){onClose(e);};var handleChange=function handleChange(checke){setState(_objectSpread(_objectSpread({},state),{},{checke:checke}));if(onChange)onChange(checke);};var handleChangeHot=function handleChangeHot(tag,checke){var selectedTags=state.selectedTags;var nextSelectedTags=checke?[].concat(_toConsumableArray(selectedTags),[tag]):selectedTags.filter(function(t){return t!==tag;});// console.log('You are interested in: ', nextSelectedTags);\nsetState(_objectSpread(_objectSpread({},state),{},{selectedTags:nextSelectedTags}));if(onChange)onChange(nextSelectedTags);};var selectedTags=state.selectedTags;return checked?/*#__PURE__*/React.createElement(CheckableTag,{props:props,checked:state.checked,onChange:handleChange}):hottags?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{style:{marginRight:8}},\"Categories:\"),tagsFromServer.map(function(tag){return/*#__PURE__*/React.createElement(CheckableTag,{key:tag,checked:selectedTags.indexOf(tag)>-1,onChange:function onChange(checke){return handleChangeHot(tag,checke);}},tag);})):animate?/*#__PURE__*/React.createElement(AnimatedTags,{data:data,onChange:onChange}):/*#__PURE__*/React.createElement(TagStyle,{closable:closable,onClose:log,color:color},children);};var AnimatedTags=function AnimatedTags(props){var data=props.data,onChange=props.onChange;var _useState3=useState({tags:data,inputVisible:false,inputValue:''}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];var handleClose=function handleClose(removedTag){var tags=state.tags.filter(function(tag){return tag!==removedTag;});// console.log(tags);\nsetState({tags:tags});if(onChange)onChange(tags);};var showInput=function showInput(){setState(_objectSpread(_objectSpread({},state),{},{inputVisible:true}));};var handleInputChange=function handleInputChange(e){setState(_objectSpread(_objectSpread({},state),{},{inputValue:e.target.value}));};var handleInputConfirm=function handleInputConfirm(){var inputValue=state.inputValue;var tags=state.tags;if(inputValue&&tags.indexOf(inputValue)===-1){tags=[].concat(_toConsumableArray(tags),[inputValue]);}if(onChange)onChange(tags);setState(_objectSpread(_objectSpread({},state),{},{tags:tags,inputVisible:false,inputValue:''}));};var forMap=function forMap(tag){var tagElem=/*#__PURE__*/React.createElement(TagStyle,{closable:true,onClose:function onClose(e){e.preventDefault();handleClose(tag);}},tag);return/*#__PURE__*/React.createElement(\"span\",{key:tag,style:{display:'inline-block'}},tagElem);};var tags=state.tags,inputVisible=state.inputVisible,inputValue=state.inputValue;var tagChild=tags.map(forMap);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{marginBottom:10}},tagChild),inputVisible&&/*#__PURE__*/React.createElement(_Input,{autoFocus:true,type:\"text\",size:\"small\",style:{width:78},value:inputValue,onChange:handleInputChange,onBlur:handleInputConfirm,onPressEnter:handleInputConfirm}),!inputVisible&&/*#__PURE__*/React.createElement(TagStyle,{onClick:showInput,style:{background:'#fff',borderStyle:'dashed'}},/*#__PURE__*/React.createElement(PlusOutlined,null),\" New Tag\"));};export{Tag};","map":{"version":3,"sources":["/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/components/tags/tags.js"],"names":["React","useState","PlusOutlined","TagStyle","CheckableTag","Tag","props","checked","selectedTags","state","setState","closable","onClose","color","onChange","data","hottags","animate","children","tagsFromServer","log","e","handleChange","checke","handleChangeHot","tag","nextSelectedTags","filter","t","marginRight","map","indexOf","AnimatedTags","tags","inputVisible","inputValue","handleClose","removedTag","showInput","handleInputChange","target","value","handleInputConfirm","forMap","tagElem","preventDefault","display","tagChild","marginBottom","width","background","borderStyle"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Input } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport { TagStyle } from './style';\r\n\r\nconst { CheckableTag } = TagStyle;\r\n\r\nconst Tag = props => {\r\n  const [state, setState] = useState({\r\n    checked: true,\r\n    selectedTags: [],\r\n  });\r\n\r\n  const { closable, onClose, color, checked, onChange, data, hottags, animate, children } = props;\r\n  const tagsFromServer = data;\r\n\r\n  const log = e => {\r\n    onClose(e);\r\n  };\r\n\r\n  const handleChange = checke => {\r\n    setState({ ...state, checke });\r\n    if (onChange) onChange(checke);\r\n  };\r\n\r\n  const handleChangeHot = (tag, checke) => {\r\n    const { selectedTags } = state;\r\n    const nextSelectedTags = checke ? [...selectedTags, tag] : selectedTags.filter(t => t !== tag);\r\n    // console.log('You are interested in: ', nextSelectedTags);\r\n    setState({\r\n      ...state,\r\n      selectedTags: nextSelectedTags,\r\n    });\r\n    if (onChange) onChange(nextSelectedTags);\r\n  };\r\n\r\n  const { selectedTags } = state;\r\n\r\n  return checked ? (\r\n    <CheckableTag props={props} checked={state.checked} onChange={handleChange} />\r\n  ) : hottags ? (\r\n    <>\r\n      <span style={{ marginRight: 8 }}>Categories:</span>\r\n      {tagsFromServer.map(tag => (\r\n        <CheckableTag\r\n          key={tag}\r\n          checked={selectedTags.indexOf(tag) > -1}\r\n          onChange={checke => handleChangeHot(tag, checke)}\r\n        >\r\n          {tag}\r\n        </CheckableTag>\r\n      ))}\r\n    </>\r\n  ) : animate ? (\r\n    <AnimatedTags data={data} onChange={onChange} />\r\n  ) : (\r\n    <TagStyle closable={closable} onClose={log} color={color}>\r\n      {children}\r\n    </TagStyle>\r\n  );\r\n};\r\n\r\nTag.propTypes = {\r\n  data: PropTypes.arrayOf(PropTypes.string),\r\n  closable: PropTypes.bool,\r\n  onClose: PropTypes.func,\r\n  color: PropTypes.string,\r\n  checked: PropTypes.bool,\r\n  onChange: PropTypes.func,\r\n  hottags: PropTypes.bool,\r\n  animate: PropTypes.bool,\r\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.node]),\r\n};\r\n\r\nconst AnimatedTags = props => {\r\n  const { data, onChange } = props;\r\n  const [state, setState] = useState({ tags: data, inputVisible: false, inputValue: '' });\r\n\r\n  const handleClose = removedTag => {\r\n    const tags = state.tags.filter(tag => tag !== removedTag);\r\n    // console.log(tags);\r\n    setState({ tags });\r\n    if (onChange) onChange(tags);\r\n  };\r\n\r\n  const showInput = () => {\r\n    setState({ ...state, inputVisible: true });\r\n  };\r\n\r\n  const handleInputChange = e => {\r\n    setState({ ...state, inputValue: e.target.value });\r\n  };\r\n\r\n  const handleInputConfirm = () => {\r\n    const { inputValue } = state;\r\n    let { tags } = state;\r\n    if (inputValue && tags.indexOf(inputValue) === -1) {\r\n      tags = [...tags, inputValue];\r\n    }\r\n\r\n    if (onChange) onChange(tags);\r\n    setState({\r\n      ...state,\r\n      tags,\r\n      inputVisible: false,\r\n      inputValue: '',\r\n    });\r\n  };\r\n\r\n  const forMap = tag => {\r\n    const tagElem = (\r\n      <TagStyle\r\n        closable\r\n        onClose={e => {\r\n          e.preventDefault();\r\n          handleClose(tag);\r\n        }}\r\n      >\r\n        {tag}\r\n      </TagStyle>\r\n    );\r\n\r\n    return (\r\n      <span key={tag} style={{ display: 'inline-block' }}>\r\n        {tagElem}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const { tags, inputVisible, inputValue } = state;\r\n  const tagChild = tags.map(forMap);\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ marginBottom: 10 }}>{tagChild}</div>\r\n\r\n      {inputVisible && (\r\n        <Input\r\n          autoFocus\r\n          type=\"text\"\r\n          size=\"small\"\r\n          style={{ width: 78 }}\r\n          value={inputValue}\r\n          onChange={handleInputChange}\r\n          onBlur={handleInputConfirm}\r\n          onPressEnter={handleInputConfirm}\r\n        />\r\n      )}\r\n\r\n      {!inputVisible && (\r\n        <TagStyle onClick={showInput} style={{ background: '#fff', borderStyle: 'dashed' }}>\r\n          <PlusOutlined /> New Tag\r\n        </TagStyle>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nAnimatedTags.propTypes = {\r\n  data: PropTypes.array,\r\n  onChange: PropTypes.func,\r\n};\r\n\r\nexport { Tag };\r\n"]},"metadata":{},"sourceType":"module"}