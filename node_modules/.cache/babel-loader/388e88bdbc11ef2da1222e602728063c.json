{"ast":null,"code":"import\"antd/es/row/style\";import _Row from\"antd/es/row\";import\"antd/es/col/style\";import _Col from\"antd/es/col\";import\"antd/es/table/style\";import _Table from\"antd/es/table\";import _objectWithoutProperties from\"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _objectSpread from\"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useSelector}from'react-redux';import FeatherIcon from'feather-icons-react';import{sortableContainer,sortableElement,sortableHandle}from'react-sortable-hoc';import arrayMove from'array-move';import{PageHeader}from'../../components/page-headers/page-headers';import{Main,TableWrapper,DragDropStyle}from'../styled';import Heading from'../../components/heading/heading';import{Button}from'../../components/buttons/buttons';import{Cards}from'../../components/cards/frame/cards-frame';import{ShareButtonPageHeader}from'../../components/buttons/share-button/share-button';import{ExportButtonPageHeader}from'../../components/buttons/export-button/export-button';import{CalendarButtonPageHeader}from'../../components/buttons/calendar-button/calendar-button';var DragHandle=sortableHandle(function(){return/*#__PURE__*/React.createElement(FeatherIcon,{style:{cursor:'pointer',color:'#999'},icon:\"move\"});});var UserListDataTable=function UserListDataTable(){var _useSelector=useSelector(function(state){return{users:state.users};}),users=_useSelector.users;var usersTableData=[];users.map(function(user,index){var name=user.name,designation=user.designation,img=user.img;return usersTableData.push({key:index+1,index:index,user:/*#__PURE__*/React.createElement(\"div\",{className:\"user-info\"},/*#__PURE__*/React.createElement(\"figure\",null,/*#__PURE__*/React.createElement(\"img\",{style:{width:'40px'},src:require(\"../../\".concat(img)),alt:\"\"})),/*#__PURE__*/React.createElement(\"figcaption\",null,/*#__PURE__*/React.createElement(Heading,{className:\"user-name\",as:\"h6\"},name))),email:/*#__PURE__*/React.createElement(\"span\",{className:\"drag_email\"},\"john@gmail.com\"),company:/*#__PURE__*/React.createElement(\"span\",{className:\"drag_company\"},\"Business Development\"),position:/*#__PURE__*/React.createElement(\"span\",{className:\"drag_designation\"},designation),joinDate:/*#__PURE__*/React.createElement(\"span\",{className:\"drag_join-date\"},\"January 20, 2020\"),action:/*#__PURE__*/React.createElement(\"div\",{className:\"table-actions\"},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn-icon\",type:\"info\",to:\"#\",shape:\"circle\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"edit\",size:16})),/*#__PURE__*/React.createElement(Button,{className:\"btn-icon\",type:\"danger\",to:\"#\",shape:\"circle\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"trash-2\",size:16}))))});});var usersTableColumns=[{dataIndex:'sort',width:30,className:'drag-visible',render:function render(){return/*#__PURE__*/React.createElement(DragHandle,null);}},{dataIndex:'user'},{dataIndex:'email'},{dataIndex:'company'},{dataIndex:'position'},{dataIndex:'joinDate'},{dataIndex:'action',width:'90px'}];var _useState=useState({dataSource:usersTableData}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var dataSource=state.dataSource;var SortableItem=sortableElement(function(props){return/*#__PURE__*/React.createElement(\"tr\",props);});var SortableContainer=sortableContainer(function(props){return/*#__PURE__*/React.createElement(\"tbody\",props);});var onSortEnd=function onSortEnd(_ref){var oldIndex=_ref.oldIndex,newIndex=_ref.newIndex;if(oldIndex!==newIndex){var newData=arrayMove([].concat(dataSource),oldIndex,newIndex).filter(function(el){return!!el;});setState(_objectSpread(_objectSpread({},state),{},{dataSource:newData}));}};var DraggableBodyRow=function DraggableBodyRow(_ref2){var className=_ref2.className,style=_ref2.style,restProps=_objectWithoutProperties(_ref2,[\"className\",\"style\"]);// function findIndex base on Table rowKey props and should always be a right array index\nvar index=dataSource.findIndex(function(x){return x.index===restProps['data-row-key'];});return/*#__PURE__*/React.createElement(SortableItem,Object.assign({index:index},restProps));};var DraggableContainer=function DraggableContainer(props){return/*#__PURE__*/React.createElement(SortableContainer,Object.assign({useDragHandle:true,helperClass:\"row-dragging\",onSortEnd:onSortEnd},props));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(PageHeader,{title:\"Drag & Drop\",buttons:[/*#__PURE__*/React.createElement(\"div\",{key:\"1\",className:\"page-header-actions\"},/*#__PURE__*/React.createElement(CalendarButtonPageHeader,null),/*#__PURE__*/React.createElement(ExportButtonPageHeader,null),/*#__PURE__*/React.createElement(ShareButtonPageHeader,null),/*#__PURE__*/React.createElement(Button,{size:\"small\",type:\"primary\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"plus\",size:14}),\"Add New\"))]}),/*#__PURE__*/React.createElement(Main,null,/*#__PURE__*/React.createElement(_Row,{gutter:15},/*#__PURE__*/React.createElement(_Col,{xs:24},/*#__PURE__*/React.createElement(DragDropStyle,null,/*#__PURE__*/React.createElement(Cards,{title:\"Drag & Drop\"},/*#__PURE__*/React.createElement(TableWrapper,{className:\"table-responsive\"},/*#__PURE__*/React.createElement(_Table,{pagination:false,dataSource:dataSource,columns:usersTableColumns,rowKey:\"index\",components:{body:{wrapper:DraggableContainer,row:DraggableBodyRow}}}))))))));};export default UserListDataTable;","map":{"version":3,"sources":["/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/container/ui-elements/DragAndDrop.js"],"names":["React","useState","useSelector","FeatherIcon","sortableContainer","sortableElement","sortableHandle","arrayMove","PageHeader","Main","TableWrapper","DragDropStyle","Heading","Button","Cards","ShareButtonPageHeader","ExportButtonPageHeader","CalendarButtonPageHeader","DragHandle","cursor","color","UserListDataTable","state","users","usersTableData","map","user","index","name","designation","img","push","key","width","require","email","company","position","joinDate","action","usersTableColumns","dataIndex","className","render","dataSource","setState","SortableItem","props","SortableContainer","onSortEnd","oldIndex","newIndex","newData","concat","filter","el","DraggableBodyRow","style","restProps","findIndex","x","DraggableContainer","body","wrapper","row"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Row, Col, Table } from 'antd';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { sortableContainer, sortableElement, sortableHandle } from 'react-sortable-hoc';\r\nimport arrayMove from 'array-move';\r\nimport PropTypes from 'prop-types';\r\nimport { PageHeader } from '../../components/page-headers/page-headers';\r\nimport { Main, TableWrapper, DragDropStyle } from '../styled';\r\nimport Heading from '../../components/heading/heading';\r\nimport { Button } from '../../components/buttons/buttons';\r\nimport { Cards } from '../../components/cards/frame/cards-frame';\r\nimport { ShareButtonPageHeader } from '../../components/buttons/share-button/share-button';\r\nimport { ExportButtonPageHeader } from '../../components/buttons/export-button/export-button';\r\nimport { CalendarButtonPageHeader } from '../../components/buttons/calendar-button/calendar-button';\r\n\r\nconst DragHandle = sortableHandle(() => <FeatherIcon style={{ cursor: 'pointer', color: '#999' }} icon=\"move\" />);\r\n\r\nconst UserListDataTable = () => {\r\n  const { users } = useSelector(state => {\r\n    return {\r\n      users: state.users,\r\n    };\r\n  });\r\n\r\n  const usersTableData = [];\r\n  users.map((user, index) => {\r\n    const { name, designation, img } = user;\r\n\r\n    return usersTableData.push({\r\n      key: index + 1,\r\n      index,\r\n      user: (\r\n        <div className=\"user-info\">\r\n          <figure>\r\n            <img style={{ width: '40px' }} src={require(`../../${img}`)} alt=\"\" />\r\n          </figure>\r\n          <figcaption>\r\n            <Heading className=\"user-name\" as=\"h6\">\r\n              {name}\r\n            </Heading>\r\n          </figcaption>\r\n        </div>\r\n      ),\r\n      email: <span className=\"drag_email\">john@gmail.com</span>,\r\n      company: <span className=\"drag_company\">Business Development</span>,\r\n      position: <span className=\"drag_designation\">{designation}</span>,\r\n      joinDate: <span className=\"drag_join-date\">January 20, 2020</span>,\r\n      action: (\r\n        <div className=\"table-actions\">\r\n          <>\r\n            <Button className=\"btn-icon\" type=\"info\" to=\"#\" shape=\"circle\">\r\n              <FeatherIcon icon=\"edit\" size={16} />\r\n            </Button>\r\n            <Button className=\"btn-icon\" type=\"danger\" to=\"#\" shape=\"circle\">\r\n              <FeatherIcon icon=\"trash-2\" size={16} />\r\n            </Button>\r\n          </>\r\n        </div>\r\n      ),\r\n    });\r\n  });\r\n\r\n  const usersTableColumns = [\r\n    {\r\n      dataIndex: 'sort',\r\n      width: 30,\r\n      className: 'drag-visible',\r\n      render: () => <DragHandle />,\r\n    },\r\n    {\r\n      dataIndex: 'user',\r\n    },\r\n    {\r\n      dataIndex: 'email',\r\n    },\r\n    {\r\n      dataIndex: 'company',\r\n    },\r\n    {\r\n      dataIndex: 'position',\r\n    },\r\n    {\r\n      dataIndex: 'joinDate',\r\n    },\r\n    {\r\n      dataIndex: 'action',\r\n      width: '90px',\r\n    },\r\n  ];\r\n\r\n  const [state, setState] = useState({\r\n    dataSource: usersTableData,\r\n  });\r\n\r\n  const { dataSource } = state;\r\n\r\n  const SortableItem = sortableElement(props => <tr {...props} />);\r\n  const SortableContainer = sortableContainer(props => <tbody {...props} />);\r\n\r\n  const onSortEnd = ({ oldIndex, newIndex }) => {\r\n    if (oldIndex !== newIndex) {\r\n      const newData = arrayMove([].concat(dataSource), oldIndex, newIndex).filter(el => !!el);\r\n      setState({ ...state, dataSource: newData });\r\n    }\r\n  };\r\n\r\n  const DraggableBodyRow = ({ className, style, ...restProps }) => {\r\n    // function findIndex base on Table rowKey props and should always be a right array index\r\n    const index = dataSource.findIndex(x => x.index === restProps['data-row-key']);\r\n    return <SortableItem index={index} {...restProps} />;\r\n  };\r\n\r\n  DraggableBodyRow.propTypes = {\r\n    className: PropTypes.string,\r\n    style: PropTypes.object,\r\n  };\r\n\r\n  const DraggableContainer = props => (\r\n    <SortableContainer useDragHandle helperClass=\"row-dragging\" onSortEnd={onSortEnd} {...props} />\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <PageHeader\r\n        title=\"Drag & Drop\"\r\n        buttons={[\r\n          <div key=\"1\" className=\"page-header-actions\">\r\n            <CalendarButtonPageHeader />\r\n            <ExportButtonPageHeader />\r\n            <ShareButtonPageHeader />\r\n            <Button size=\"small\" type=\"primary\">\r\n              <FeatherIcon icon=\"plus\" size={14} />\r\n              Add New\r\n            </Button>\r\n          </div>,\r\n        ]}\r\n      />\r\n\r\n      <Main>\r\n        <Row gutter={15}>\r\n          <Col xs={24}>\r\n            <DragDropStyle>\r\n              <Cards title=\"Drag & Drop\">\r\n                <TableWrapper className=\"table-responsive\">\r\n                  <Table\r\n                    pagination={false}\r\n                    dataSource={dataSource}\r\n                    columns={usersTableColumns}\r\n                    rowKey=\"index\"\r\n                    components={{\r\n                      body: {\r\n                        wrapper: DraggableContainer,\r\n                        row: DraggableBodyRow,\r\n                      },\r\n                    }}\r\n                  />\r\n                </TableWrapper>\r\n              </Cards>\r\n            </DragDropStyle>\r\n          </Col>\r\n        </Row>\r\n      </Main>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserListDataTable;\r\n"]},"metadata":{},"sourceType":"module"}