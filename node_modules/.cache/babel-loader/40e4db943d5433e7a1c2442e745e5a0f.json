{"ast":null,"code":"import \"antd/es/notification/style\";\nimport _notification from \"antd/es/notification\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport actions from './actions';\n\nconst addNotificationSuccess = () => {\n  _notification.success({\n    message: 'Your Record hasbeen Submited'\n  });\n};\n\nconst addNotificationError = err => {\n  _notification.error({\n    message: err\n  });\n};\n\nconst deleteNotificationSuccess = () => {\n  _notification.success({\n    message: 'Your Record hasbeen Deleted'\n  });\n};\n\nconst deleteNotificationError = err => {\n  _notification.error({\n    message: err\n  });\n};\n\nconst updateNotificationSuccess = () => {\n  _notification.success({\n    message: 'Your Record hasbeen updated'\n  });\n};\n\nconst updateNotificationError = err => {\n  _notification.error({\n    message: err\n  });\n};\n\nconst {\n  fbAddBegin,\n  fbAddSuccess,\n  fbAddErr,\n  fbReadBegin,\n  fbReadSuccess,\n  fbReadErr,\n  fbUpdateBegin,\n  fbUpdateSuccess,\n  fbUpdateErr,\n  fbDeleteBegin,\n  fbDeleteSuccess,\n  fbDeleteErr,\n  fbSingleDataBegin,\n  fbSingleDataSuccess,\n  fbSingleDataErr,\n  fbUploadBegin,\n  fbUploadSuccess,\n  fbUploadErr,\n  fbSearchBegin,\n  fbSearchSuccess,\n  fbSearchErr\n} = actions;\n\nconst fbDataSubmit = data => {\n  return async (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const db = getFirestore();\n\n    try {\n      await dispatch(fbAddBegin());\n      await db.collection('crud').doc(`${data.id}`).set(data);\n      await dispatch(fbAddSuccess(data));\n      await addNotificationSuccess();\n    } catch (err) {\n      await dispatch(fbAddErr(err));\n      await addNotificationError(err);\n    }\n  };\n};\n\nconst fbDataRead = () => {\n  return async (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const db = getFirestore();\n    const data = [];\n\n    try {\n      await dispatch(fbReadBegin());\n      const query = await db.collection('crud').get();\n      await query.forEach(doc => {\n        data.push(doc.data());\n      });\n      await dispatch(fbReadSuccess(data));\n    } catch (err) {\n      await dispatch(fbReadErr(err));\n    }\n  };\n};\n\nconst fbDataSearch = value => {\n  return async (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const db = getFirestore();\n    const data = [];\n\n    try {\n      await dispatch(fbSearchBegin());\n      const query = await db.collection('crud').get();\n      await query.forEach(doc => {\n        data.push(doc.data());\n      });\n      const searchValue = data.filter(item => item.name.toLowerCase().startsWith(value.toLowerCase()));\n      await dispatch(fbSearchSuccess(searchValue));\n    } catch (err) {\n      await dispatch(fbSearchErr(err));\n    }\n  };\n};\n\nconst fbDataUpdate = (id, data) => {\n  return async (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const db = getFirestore();\n\n    try {\n      await dispatch(fbUpdateBegin());\n      await db.collection('crud').doc(`${id}`).update({ ...data\n      });\n      const query = await db.collection('crud').where('id', '==', id).get();\n      await query.forEach(doc => {\n        dispatch(fbUpdateSuccess(doc.data()));\n      });\n      await updateNotificationSuccess();\n    } catch (err) {\n      await dispatch(fbUpdateErr(err));\n      await updateNotificationError(err);\n    }\n  };\n};\n\nconst fbDataDelete = id => {\n  return async (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const db = getFirestore();\n    const data = [];\n\n    try {\n      await dispatch(fbDeleteBegin());\n      await db.collection('crud').doc(`${id}`).delete();\n      const query = await db.collection('crud').get();\n      await query.forEach(doc => {\n        data.push(doc.data());\n      });\n      await dispatch(fbDeleteSuccess(data));\n      await deleteNotificationSuccess();\n      await fbDataRead();\n    } catch (err) {\n      await dispatch(fbDeleteErr(err));\n      await deleteNotificationError(err);\n    }\n  };\n};\n\nconst fbDataSingle = id => {\n  return async (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const db = getFirestore();\n\n    try {\n      await dispatch(fbSingleDataBegin());\n      const query = await db.collection('crud').where('id', '==', id).get();\n      await query.forEach(doc => {\n        dispatch(fbSingleDataSuccess(doc.data()));\n      });\n    } catch (err) {\n      await dispatch(fbSingleDataErr(err));\n    }\n  };\n};\n\nconst fbFileUploder = imageAsFile => {\n  return async (dispatch, getState, {\n    getFirebase,\n    getFirestore,\n    storage\n  }) => {\n    try {\n      await dispatch(fbUploadBegin());\n      const uploadTask = storage().ref(`/images/${imageAsFile.name}`).put(imageAsFile);\n      await uploadTask.on('state_changed', snapShot => {\n        // takes a snap shot of the process as it is happening\n        console.log(snapShot);\n      }, err => {\n        // catches the errors\n        console.log(err);\n      }, () => {\n        storage().ref('images').child(imageAsFile.name).getDownloadURL().then(fireBaseUrl => {\n          dispatch(fbUploadSuccess(fireBaseUrl));\n        });\n      });\n    } catch (err) {\n      await dispatch(fbUploadErr(err));\n    }\n  };\n};\n\nconst fbFileClear = () => {\n  return async dispatch => {\n    try {\n      await dispatch(fbUploadBegin());\n      dispatch(fbUploadSuccess(null));\n    } catch (err) {\n      await dispatch(fbUploadErr(err));\n    }\n  };\n};\n\nexport { fbDataSubmit, fbDataSearch, fbDataDelete, fbDataSingle, fbDataUpdate, fbDataRead, fbFileUploder, fbFileClear };\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(addNotificationSuccess, \"addNotificationSuccess\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(addNotificationError, \"addNotificationError\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(deleteNotificationSuccess, \"deleteNotificationSuccess\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(deleteNotificationError, \"deleteNotificationError\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(updateNotificationSuccess, \"updateNotificationSuccess\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(updateNotificationError, \"updateNotificationError\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbAddBegin, \"fbAddBegin\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbAddSuccess, \"fbAddSuccess\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbAddErr, \"fbAddErr\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbReadBegin, \"fbReadBegin\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbReadSuccess, \"fbReadSuccess\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbReadErr, \"fbReadErr\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbUpdateBegin, \"fbUpdateBegin\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbUpdateSuccess, \"fbUpdateSuccess\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbUpdateErr, \"fbUpdateErr\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbDeleteBegin, \"fbDeleteBegin\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbDeleteSuccess, \"fbDeleteSuccess\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbDeleteErr, \"fbDeleteErr\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbSingleDataBegin, \"fbSingleDataBegin\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbSingleDataSuccess, \"fbSingleDataSuccess\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbSingleDataErr, \"fbSingleDataErr\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbUploadBegin, \"fbUploadBegin\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbUploadSuccess, \"fbUploadSuccess\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbUploadErr, \"fbUploadErr\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbSearchBegin, \"fbSearchBegin\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbSearchSuccess, \"fbSearchSuccess\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbSearchErr, \"fbSearchErr\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbDataSubmit, \"fbDataSubmit\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbDataRead, \"fbDataRead\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbDataSearch, \"fbDataSearch\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbDataUpdate, \"fbDataUpdate\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbDataDelete, \"fbDataDelete\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbDataSingle, \"fbDataSingle\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbFileUploder, \"fbFileUploder\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n  reactHotLoader.register(fbFileClear, \"fbFileClear\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/redux/firestore/actionCreator.js"],"names":["actions","addNotificationSuccess","success","message","addNotificationError","err","error","deleteNotificationSuccess","deleteNotificationError","updateNotificationSuccess","updateNotificationError","fbAddBegin","fbAddSuccess","fbAddErr","fbReadBegin","fbReadSuccess","fbReadErr","fbUpdateBegin","fbUpdateSuccess","fbUpdateErr","fbDeleteBegin","fbDeleteSuccess","fbDeleteErr","fbSingleDataBegin","fbSingleDataSuccess","fbSingleDataErr","fbUploadBegin","fbUploadSuccess","fbUploadErr","fbSearchBegin","fbSearchSuccess","fbSearchErr","fbDataSubmit","data","dispatch","getState","getFirebase","getFirestore","db","collection","doc","id","set","fbDataRead","query","get","forEach","push","fbDataSearch","value","searchValue","filter","item","name","toLowerCase","startsWith","fbDataUpdate","update","where","fbDataDelete","delete","fbDataSingle","fbFileUploder","imageAsFile","storage","uploadTask","ref","put","on","snapShot","console","log","child","getDownloadURL","then","fireBaseUrl","fbFileClear"],"mappings":"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","sourcesContent":["import { notification } from 'antd';\r\nimport actions from './actions';\r\n\r\nconst addNotificationSuccess = () => {\r\n  notification.success({\r\n    message: 'Your Record hasbeen Submited',\r\n  });\r\n};\r\n\r\nconst addNotificationError = err => {\r\n  notification.error({\r\n    message: err,\r\n  });\r\n};\r\n\r\nconst deleteNotificationSuccess = () => {\r\n  notification.success({\r\n    message: 'Your Record hasbeen Deleted',\r\n  });\r\n};\r\n\r\nconst deleteNotificationError = err => {\r\n  notification.error({\r\n    message: err,\r\n  });\r\n};\r\n\r\nconst updateNotificationSuccess = () => {\r\n  notification.success({\r\n    message: 'Your Record hasbeen updated',\r\n  });\r\n};\r\n\r\nconst updateNotificationError = err => {\r\n  notification.error({\r\n    message: err,\r\n  });\r\n};\r\n\r\nconst {\r\n  fbAddBegin,\r\n  fbAddSuccess,\r\n  fbAddErr,\r\n\r\n  fbReadBegin,\r\n  fbReadSuccess,\r\n  fbReadErr,\r\n\r\n  fbUpdateBegin,\r\n  fbUpdateSuccess,\r\n  fbUpdateErr,\r\n\r\n  fbDeleteBegin,\r\n  fbDeleteSuccess,\r\n  fbDeleteErr,\r\n\r\n  fbSingleDataBegin,\r\n  fbSingleDataSuccess,\r\n  fbSingleDataErr,\r\n\r\n  fbUploadBegin,\r\n  fbUploadSuccess,\r\n  fbUploadErr,\r\n\r\n  fbSearchBegin,\r\n  fbSearchSuccess,\r\n  fbSearchErr,\r\n} = actions;\r\n\r\nconst fbDataSubmit = data => {\r\n  return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const db = getFirestore();\r\n    try {\r\n      await dispatch(fbAddBegin());\r\n      await db\r\n        .collection('crud')\r\n        .doc(`${data.id}`)\r\n        .set(data);\r\n      await dispatch(fbAddSuccess(data));\r\n      await addNotificationSuccess();\r\n    } catch (err) {\r\n      await dispatch(fbAddErr(err));\r\n      await addNotificationError(err);\r\n    }\r\n  };\r\n};\r\n\r\nconst fbDataRead = () => {\r\n  return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const db = getFirestore();\r\n    const data = [];\r\n    try {\r\n      await dispatch(fbReadBegin());\r\n      const query = await db.collection('crud').get();\r\n      await query.forEach(doc => {\r\n        data.push(doc.data());\r\n      });\r\n      await dispatch(fbReadSuccess(data));\r\n    } catch (err) {\r\n      await dispatch(fbReadErr(err));\r\n    }\r\n  };\r\n};\r\n\r\nconst fbDataSearch = value => {\r\n  return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const db = getFirestore();\r\n    const data = [];\r\n    try {\r\n      await dispatch(fbSearchBegin());\r\n      const query = await db.collection('crud').get();\r\n      await query.forEach(doc => {\r\n        data.push(doc.data());\r\n      });\r\n      const searchValue = data.filter(item => item.name.toLowerCase().startsWith(value.toLowerCase()));\r\n      await dispatch(fbSearchSuccess(searchValue));\r\n    } catch (err) {\r\n      await dispatch(fbSearchErr(err));\r\n    }\r\n  };\r\n};\r\n\r\nconst fbDataUpdate = (id, data) => {\r\n  return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const db = getFirestore();\r\n    try {\r\n      await dispatch(fbUpdateBegin());\r\n      await db\r\n        .collection('crud')\r\n        .doc(`${id}`)\r\n        .update({\r\n          ...data,\r\n        });\r\n\r\n      const query = await db\r\n        .collection('crud')\r\n        .where('id', '==', id)\r\n        .get();\r\n      await query.forEach(doc => {\r\n        dispatch(fbUpdateSuccess(doc.data()));\r\n      });\r\n\r\n      await updateNotificationSuccess();\r\n    } catch (err) {\r\n      await dispatch(fbUpdateErr(err));\r\n      await updateNotificationError(err);\r\n    }\r\n  };\r\n};\r\n\r\nconst fbDataDelete = id => {\r\n  return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const db = getFirestore();\r\n    const data = [];\r\n    try {\r\n      await dispatch(fbDeleteBegin());\r\n      await db\r\n        .collection('crud')\r\n        .doc(`${id}`)\r\n        .delete();\r\n      const query = await db.collection('crud').get();\r\n      await query.forEach(doc => {\r\n        data.push(doc.data());\r\n      });\r\n      await dispatch(fbDeleteSuccess(data));\r\n      await deleteNotificationSuccess();\r\n      await fbDataRead();\r\n    } catch (err) {\r\n      await dispatch(fbDeleteErr(err));\r\n      await deleteNotificationError(err);\r\n    }\r\n  };\r\n};\r\n\r\nconst fbDataSingle = id => {\r\n  return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const db = getFirestore();\r\n    try {\r\n      await dispatch(fbSingleDataBegin());\r\n      const query = await db\r\n        .collection('crud')\r\n        .where('id', '==', id)\r\n        .get();\r\n      await query.forEach(doc => {\r\n        dispatch(fbSingleDataSuccess(doc.data()));\r\n      });\r\n    } catch (err) {\r\n      await dispatch(fbSingleDataErr(err));\r\n    }\r\n  };\r\n};\r\n\r\nconst fbFileUploder = imageAsFile => {\r\n  return async (dispatch, getState, { getFirebase, getFirestore, storage }) => {\r\n    try {\r\n      await dispatch(fbUploadBegin());\r\n      const uploadTask = storage()\r\n        .ref(`/images/${imageAsFile.name}`)\r\n        .put(imageAsFile);\r\n\r\n      await uploadTask.on(\r\n        'state_changed',\r\n        snapShot => {\r\n          // takes a snap shot of the process as it is happening\r\n          console.log(snapShot);\r\n        },\r\n        err => {\r\n          // catches the errors\r\n          console.log(err);\r\n        },\r\n        () => {\r\n          storage()\r\n            .ref('images')\r\n            .child(imageAsFile.name)\r\n            .getDownloadURL()\r\n            .then(fireBaseUrl => {\r\n              dispatch(fbUploadSuccess(fireBaseUrl));\r\n            });\r\n        },\r\n      );\r\n    } catch (err) {\r\n      await dispatch(fbUploadErr(err));\r\n    }\r\n  };\r\n};\r\n\r\nconst fbFileClear = () => {\r\n  return async dispatch => {\r\n    try {\r\n      await dispatch(fbUploadBegin());\r\n      dispatch(fbUploadSuccess(null));\r\n    } catch (err) {\r\n      await dispatch(fbUploadErr(err));\r\n    }\r\n  };\r\n};\r\n\r\nexport { fbDataSubmit, fbDataSearch, fbDataDelete, fbDataSingle, fbDataUpdate, fbDataRead, fbFileUploder, fbFileClear };\r\n"]},"metadata":{},"sourceType":"module"}