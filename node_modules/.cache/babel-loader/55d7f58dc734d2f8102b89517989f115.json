{"ast":null,"code":"var _jsxFileName = \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/container/email/overview/Content.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { useState, useEffect } from 'react';\nimport FeatherIcon from 'feather-icons-react';\nimport moment from 'moment';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\nimport propTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport FontAwesome from 'react-fontawesome';\nimport { Style, EmailAuthor, EmailHeader } from './style';\nimport Topbar from './Topbar';\nimport { AutoComplete } from '../../../components/autoComplete/autoComplete';\nimport Heading from '../../../components/heading/heading';\nimport { textRefactor } from '../../../components/utilities/utilities';\nimport { Dropdown } from '../../../components/dropdown/dropdown';\nimport { onStarUpdate, onSortingAscending, onSortingDescending } from '../../../redux/email/actionCreator';\n\nconst Content = ({\n  searchData,\n  email\n}) => {\n  const dispatch = useDispatch();\n  const {\n    rtl\n  } = useSelector(state => {\n    return {\n      rtl: state.ChangeLayoutMode.rtlData\n    };\n  });\n  const [state, setState] = useState({\n    selectedRowKeys: [],\n    notData: searchData,\n    emails: email,\n    sort: true\n  });\n  const {\n    selectedRowKeys,\n    notData,\n    emails,\n    sort\n  } = state;\n  useEffect(() => {\n    setState({\n      emails: email,\n      selectedRowKeys,\n      sort\n    });\n  }, [email, selectedRowKeys, sort]);\n\n  const handleSearch = searchText => {\n    const data = searchData !== undefined && searchData.filter(item => item.title.toUpperCase().startsWith(searchText.toUpperCase()));\n    setState({ ...state,\n      notData: data\n    });\n  };\n\n  const refreshState = e => {\n    e.preventDefault();\n    setState({ ...state,\n      emails: email\n    });\n  };\n\n  const onStaredChange = id => {\n    dispatch(onStarUpdate(id));\n  };\n\n  const data = [];\n  if (emails !== undefined) emails.map((inbox, key) => {\n    // eslint-disable-next-line no-shadow\n    const {\n      id,\n      type,\n      email,\n      userName,\n      status,\n      img,\n      subject,\n      body,\n      attach,\n      stared\n    } = inbox;\n    const same = moment(id).format('MM-DD-YYYY') === moment().format('MM-DD-YYYY');\n    return data.push({\n      key: id,\n      name: /*#__PURE__*/React.createElement(EmailAuthor, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        onClick: () => {\n          onStaredChange(id);\n        },\n        to: \"#\",\n        className: stared ? 'starActive' : 'starDeactivate',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesome, {\n        name: \"star-o\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"img\", {\n        src: img,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Heading, {\n        as: \"h5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }\n      }, userName))),\n      email,\n      status,\n      content: /*#__PURE__*/React.createElement(EmailHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Heading, {\n        as: \"h5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: `/admin/email/single/${id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }\n      }, subject), /*#__PURE__*/React.createElement(\"span\", {\n        className: `mail-badge ${key <= 1 ? 'primary' : ''}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }\n      }, type)), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }\n      }, textRefactor(body, 10)), attach.length ? attach.map(item => /*#__PURE__*/React.createElement(\"a\", {\n        key: item,\n        className: \"btn-attachment\",\n        download: true,\n        href: require(`../../../static/img/email/${item}`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(FeatherIcon, {\n        icon: \"paperclip\",\n        size: 14,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }\n      }), item)) : null),\n      time: /*#__PURE__*/React.createElement(\"span\", {\n        className: \"email-time\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }\n      }, same ? moment(id).format('hh:mm A') : moment(id).format('LL'))\n    });\n  });\n\n  const handleChange = (pagination, filters, sorter) => {\n    setState({ ...state,\n      sortedInfo: sorter\n    });\n  };\n\n  const onRowSelection = filterObj => {\n    const {\n      filter,\n      byValue\n    } = filterObj;\n    const newSelectedRowKeys = emails.filter(value => {\n      return value[filter] === byValue;\n    }).map(item => item.id);\n    setState({ ...state,\n      selectedRowKeys: newSelectedRowKeys\n    });\n  };\n\n  const onSelectChange = selectedRowKey => {\n    setState({ ...state,\n      selectedRowKeys: selectedRowKey\n    });\n  };\n\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: onSelectChange,\n    hideDefaultSelections: true,\n    selections: [{\n      key: 'all',\n      text: 'All',\n      onSelect: () => {\n        const newSelectedRowKeys = email.map(item => item.id);\n        setState({ ...state,\n          selectedRowKeys: newSelectedRowKeys\n        });\n      }\n    }, {\n      key: 'read',\n      text: 'Read',\n      onSelect: onRowSelection.bind(null, {\n        filter: 'status',\n        byValue: 'read'\n      })\n    }, {\n      key: 'unread',\n      text: 'Unread',\n      onSelect: onRowSelection.bind(null, {\n        filter: 'status',\n        byValue: 'unread'\n      })\n    }, {\n      key: 'stared',\n      text: 'Stared',\n      onSelect: onRowSelection.bind(null, {\n        filter: 'stared',\n        byValue: true\n      })\n    }, {\n      key: 'unstared',\n      text: 'Unstared',\n      onSelect: onRowSelection.bind(null, {\n        filter: 'status',\n        byValue: false\n      })\n    }]\n  };\n  const columns = [{\n    title: /*#__PURE__*/React.createElement(Topbar, {\n      refreshState: refreshState,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 14\n      }\n    }),\n    dataIndex: 'name'\n  }, {\n    title: /*#__PURE__*/React.createElement(\"div\", {\n      className: \"email-top-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(AutoComplete, {\n      placeholder: \"Search mail\",\n      onSearch: handleSearch,\n      dataSource: notData,\n      width: \"80%\",\n      patterns: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }\n    })),\n    dataIndex: 'content'\n  }, {\n    title: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"email-top-right d-flex align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"page-number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }\n    }, \"1 - 50 of 235\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pagination-slider\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"btn-paging\",\n      to: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FeatherIcon, {\n      icon: !rtl ? 'chevron-left' : 'chevron-right',\n      size: 14,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Link, {\n      className: \"btn-paging\",\n      to: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FeatherIcon, {\n      icon: rtl ? 'chevron-left' : 'chevron-right',\n      size: 14,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"email-extra\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      onClick: () => {\n        setState({ ...state,\n          sort: !sort\n        });\n\n        if (sort) {\n          dispatch(onSortingAscending());\n        } else {\n          dispatch(onSortingDescending());\n        }\n      },\n      to: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FeatherIcon, {\n      icon: \"sliders\",\n      size: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Dropdown, {\n      content: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n        to: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 23\n        }\n      }, \"Newest\")), /*#__PURE__*/React.createElement(Link, {\n        to: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 23\n        }\n      }, \"Oldest\")), /*#__PURE__*/React.createElement(Link, {\n        to: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 23\n        }\n      }, \"Unread\"))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FeatherIcon, {\n      icon: \"more-vertical\",\n      size: 18,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 19\n      }\n    })))))),\n    dataIndex: 'time',\n    key: 'time'\n  }];\n  return /*#__PURE__*/React.createElement(Style, {\n    className: \"table-responsive\",\n    pagination: false,\n    rowSelection: rowSelection,\n    columns: columns,\n    dataSource: data,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 5\n    }\n  });\n};\n\n__signature__(Content, \"useDispatch{dispatch}\\nuseSelector{{ rtl }}\\nuseState{[state, setState]({\\r\\n    selectedRowKeys: [],\\r\\n    notData: searchData,\\r\\n    emails: email,\\r\\n    sort: true,\\r\\n  })}\\nuseEffect{}\", () => [useDispatch, useSelector]);\n\nContent.propTypes = {\n  searchData: propTypes.arrayOf(propTypes.object).isRequired,\n  email: propTypes.arrayOf(propTypes.object).isRequired\n};\nconst _default = Content;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Content, \"Content\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/container/email/overview/Content.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/container/email/overview/Content.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/container/email/overview/Content.js"],"names":["React","useState","useEffect","FeatherIcon","moment","Link","propTypes","useDispatch","useSelector","FontAwesome","Style","EmailAuthor","EmailHeader","Topbar","AutoComplete","Heading","textRefactor","Dropdown","onStarUpdate","onSortingAscending","onSortingDescending","Content","searchData","email","dispatch","rtl","state","ChangeLayoutMode","rtlData","setState","selectedRowKeys","notData","emails","sort","handleSearch","searchText","data","undefined","filter","item","title","toUpperCase","startsWith","refreshState","e","preventDefault","onStaredChange","id","map","inbox","key","type","userName","status","img","subject","body","attach","stared","same","format","push","name","content","length","require","time","handleChange","pagination","filters","sorter","sortedInfo","onRowSelection","filterObj","byValue","newSelectedRowKeys","value","onSelectChange","selectedRowKey","rowSelection","onChange","hideDefaultSelections","selections","text","onSelect","bind","columns","dataIndex","arrayOf","object","isRequired"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport moment from 'moment';\r\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport propTypes from 'prop-types';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport FontAwesome from 'react-fontawesome';\r\nimport { Style, EmailAuthor, EmailHeader } from './style';\r\nimport Topbar from './Topbar';\r\nimport { AutoComplete } from '../../../components/autoComplete/autoComplete';\r\nimport Heading from '../../../components/heading/heading';\r\nimport { textRefactor } from '../../../components/utilities/utilities';\r\nimport { Dropdown } from '../../../components/dropdown/dropdown';\r\nimport { onStarUpdate, onSortingAscending, onSortingDescending } from '../../../redux/email/actionCreator';\r\n\r\nconst Content = ({ searchData, email }) => {\r\n  const dispatch = useDispatch();\r\n  const { rtl } = useSelector(state => {\r\n    return {\r\n      rtl: state.ChangeLayoutMode.rtlData,\r\n    };\r\n  });\r\n  const [state, setState] = useState({\r\n    selectedRowKeys: [],\r\n    notData: searchData,\r\n    emails: email,\r\n    sort: true,\r\n  });\r\n  const { selectedRowKeys, notData, emails, sort } = state;\r\n\r\n  useEffect(() => {\r\n    setState({\r\n      emails: email,\r\n      selectedRowKeys,\r\n      sort,\r\n    });\r\n  }, [email, selectedRowKeys, sort]);\r\n\r\n  const handleSearch = searchText => {\r\n    const data =\r\n      searchData !== undefined &&\r\n      searchData.filter(item => item.title.toUpperCase().startsWith(searchText.toUpperCase()));\r\n    setState({\r\n      ...state,\r\n      notData: data,\r\n    });\r\n  };\r\n\r\n  const refreshState = e => {\r\n    e.preventDefault();\r\n    setState({\r\n      ...state,\r\n      emails: email,\r\n    });\r\n  };\r\n\r\n  const onStaredChange = id => {\r\n    dispatch(onStarUpdate(id));\r\n  };\r\n\r\n  const data = [];\r\n  if (emails !== undefined)\r\n    emails.map((inbox, key) => {\r\n      // eslint-disable-next-line no-shadow\r\n      const { id, type, email, userName, status, img, subject, body, attach, stared } = inbox;\r\n\r\n      const same = moment(id).format('MM-DD-YYYY') === moment().format('MM-DD-YYYY');\r\n      return data.push({\r\n        key: id,\r\n        name: (\r\n          <EmailAuthor>\r\n            <Link\r\n              onClick={() => {\r\n                onStaredChange(id);\r\n              }}\r\n              to=\"#\"\r\n              className={stared ? 'starActive' : 'starDeactivate'}\r\n            >\r\n              <FontAwesome name=\"star-o\" />\r\n            </Link>\r\n            <img src={img} alt=\"\" />\r\n            <Heading as=\"h5\">\r\n              <Link>{userName}</Link>\r\n            </Heading>\r\n          </EmailAuthor>\r\n        ),\r\n        email,\r\n        status,\r\n        content: (\r\n          <EmailHeader>\r\n            <Heading as=\"h5\">\r\n              <Link to={`/admin/email/single/${id}`}>{subject}</Link>\r\n              <span className={`mail-badge ${key <= 1 ? 'primary' : ''}`}>{type}</span>\r\n            </Heading>\r\n            <p>{textRefactor(body, 10)}</p>\r\n            {attach.length\r\n              ? attach.map(item => (\r\n                  <a key={item} className=\"btn-attachment\" download href={require(`../../../static/img/email/${item}`)}>\r\n                    <FeatherIcon icon=\"paperclip\" size={14} />\r\n                    {item}\r\n                  </a>\r\n                ))\r\n              : null}\r\n          </EmailHeader>\r\n        ),\r\n        time: <span className=\"email-time\">{same ? moment(id).format('hh:mm A') : moment(id).format('LL')}</span>,\r\n      });\r\n    });\r\n\r\n  const handleChange = (pagination, filters, sorter) => {\r\n    setState({\r\n      ...state,\r\n      sortedInfo: sorter,\r\n    });\r\n  };\r\n\r\n  const onRowSelection = filterObj => {\r\n    const { filter, byValue } = filterObj;\r\n\r\n    const newSelectedRowKeys = emails\r\n      .filter(value => {\r\n        return value[filter] === byValue;\r\n      })\r\n      .map(item => item.id);\r\n\r\n    setState({ ...state, selectedRowKeys: newSelectedRowKeys });\r\n  };\r\n\r\n  const onSelectChange = selectedRowKey => {\r\n    setState({ ...state, selectedRowKeys: selectedRowKey });\r\n  };\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys,\r\n    onChange: onSelectChange,\r\n    hideDefaultSelections: true,\r\n    selections: [\r\n      {\r\n        key: 'all',\r\n        text: 'All',\r\n        onSelect: () => {\r\n          const newSelectedRowKeys = email.map(item => item.id);\r\n          setState({ ...state, selectedRowKeys: newSelectedRowKeys });\r\n        },\r\n      },\r\n      {\r\n        key: 'read',\r\n        text: 'Read',\r\n        onSelect: onRowSelection.bind(null, { filter: 'status', byValue: 'read' }),\r\n      },\r\n      {\r\n        key: 'unread',\r\n        text: 'Unread',\r\n        onSelect: onRowSelection.bind(null, { filter: 'status', byValue: 'unread' }),\r\n      },\r\n      {\r\n        key: 'stared',\r\n        text: 'Stared',\r\n        onSelect: onRowSelection.bind(null, { filter: 'stared', byValue: true }),\r\n      },\r\n      {\r\n        key: 'unstared',\r\n        text: 'Unstared',\r\n        onSelect: onRowSelection.bind(null, { filter: 'status', byValue: false }),\r\n      },\r\n    ],\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: <Topbar refreshState={refreshState} />,\r\n      dataIndex: 'name',\r\n    },\r\n    {\r\n      title: (\r\n        <div className=\"email-top-search\">\r\n          <AutoComplete placeholder=\"Search mail\" onSearch={handleSearch} dataSource={notData} width=\"80%\" patterns />\r\n        </div>\r\n      ),\r\n      dataIndex: 'content',\r\n    },\r\n    {\r\n      title: (\r\n        <>\r\n          <div className=\"email-top-right d-flex align-items-center\">\r\n            <span className=\"page-number\">1 - 50 of 235</span>\r\n            <div className=\"pagination-slider\">\r\n              <Link className=\"btn-paging\" to=\"#\">\r\n                <FeatherIcon icon={!rtl ? 'chevron-left' : 'chevron-right'} size={14} />\r\n              </Link>\r\n              <Link className=\"btn-paging\" to=\"#\">\r\n                <FeatherIcon icon={rtl ? 'chevron-left' : 'chevron-right'} size={14} />\r\n              </Link>\r\n            </div>\r\n            <div className=\"email-extra\">\r\n              <Link\r\n                onClick={() => {\r\n                  setState({\r\n                    ...state,\r\n                    sort: !sort,\r\n                  });\r\n                  if (sort) {\r\n                    dispatch(onSortingAscending());\r\n                  } else {\r\n                    dispatch(onSortingDescending());\r\n                  }\r\n                }}\r\n                to=\"#\"\r\n              >\r\n                <FeatherIcon icon=\"sliders\" size={16} />\r\n              </Link>\r\n              <Dropdown\r\n                content={\r\n                  <>\r\n                    <Link to=\"#\">\r\n                      <span>Newest</span>\r\n                    </Link>\r\n                    <Link to=\"#\">\r\n                      <span>Oldest</span>\r\n                    </Link>\r\n                    <Link to=\"#\">\r\n                      <span>Unread</span>\r\n                    </Link>\r\n                  </>\r\n                }\r\n              >\r\n                <Link to=\"#\">\r\n                  <FeatherIcon icon=\"more-vertical\" size={18} />\r\n                </Link>\r\n              </Dropdown>\r\n            </div>\r\n          </div>\r\n        </>\r\n      ),\r\n      dataIndex: 'time',\r\n      key: 'time',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Style\r\n      className=\"table-responsive\"\r\n      pagination={false}\r\n      rowSelection={rowSelection}\r\n      columns={columns}\r\n      dataSource={data}\r\n      onChange={handleChange}\r\n    />\r\n  );\r\n};\r\n\r\nContent.propTypes = {\r\n  searchData: propTypes.arrayOf(propTypes.object).isRequired,\r\n  email: propTypes.arrayOf(propTypes.object).isRequired,\r\n};\r\n\r\nexport default Content;\r\n"]},"metadata":{},"sourceType":"module"}