{"ast":null,"code":"import _toConsumableArray from\"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{CascaderStyle}from'./style';var Cascader=function Cascader(props){var data=props.data,defaultValue=props.defaultValue,trigger=props.trigger,onChange=props.onChange,isShowSearch=props.isShowSearch,loading=props.loading,placeholder=props.placeholder;var options=data;var _useState=useState({options:options}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var onChangeEvent=function onChangeEvent(value){onChange(value);};var onChangeLoading=function onChangeLoading(value,selectedOptions){onChange(value,selectedOptions);};var filter=function filter(inputValue,path){return path.some(function(option){return option.label.toLowerCase().indexOf(inputValue.toLowerCase())>-1;});};var loadData=function loadData(selectedOptions){var targetOption=selectedOptions[selectedOptions.length-1];targetOption.loading=true;// load options lazily\nsetTimeout(function(){targetOption.loading=false;targetOption.children=[{label:\"\".concat(targetOption.label,\" Dynamic 1\"),value:'dynamic1'},{label:\"\".concat(targetOption.label,\" Dynamic 2\"),value:'dynamic2'}];setState({options:_toConsumableArray(state.options)});},1000);};return/*#__PURE__*/React.createElement(CascaderStyle,{options:options,expandTrigger:trigger,defaultValue:defaultValue,onChange:loading?onChangeLoading:onChangeEvent,showSearch:isShowSearch&&{filter:filter},loadData:loadData,placeholder:placeholder,changeOnSelect:!!loading});};Cascader.defaultProps={data:[{value:'zhejiang',label:'Zhejiang',children:[{value:'hangzhou',label:'Hangzhou',children:[{value:'xihu',label:'West Lake'}]}]},{value:'jiangsu',label:'Jiangsu',children:[{value:'nanjing',label:'Nanjing',children:[{value:'zhonghuamen',label:'Zhong Hua Men'}]}]}],defaultValue:[],trigger:'click',placeholder:'Please select'};export{Cascader};","map":{"version":3,"sources":["/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/components/cascader/cascader.js"],"names":["React","useState","CascaderStyle","Cascader","props","data","defaultValue","trigger","onChange","isShowSearch","loading","placeholder","options","state","setState","onChangeEvent","value","onChangeLoading","selectedOptions","filter","inputValue","path","some","option","label","toLowerCase","indexOf","loadData","targetOption","length","setTimeout","children","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { CascaderStyle } from './style';\r\n\r\nconst Cascader = props => {\r\n  const { data, defaultValue, trigger, onChange, isShowSearch, loading, placeholder } = props;\r\n\r\n  const options = data;\r\n  const [state, setState] = useState({\r\n    options,\r\n  });\r\n\r\n  const onChangeEvent = value => {\r\n    onChange(value);\r\n  };\r\n\r\n  const onChangeLoading = (value, selectedOptions) => {\r\n    onChange(value, selectedOptions);\r\n  };\r\n\r\n  const filter = (inputValue, path) => {\r\n    return path.some(option => option.label.toLowerCase().indexOf(inputValue.toLowerCase()) > -1);\r\n  };\r\n\r\n  const loadData = selectedOptions => {\r\n    const targetOption = selectedOptions[selectedOptions.length - 1];\r\n    targetOption.loading = true;\r\n    // load options lazily\r\n    setTimeout(() => {\r\n      targetOption.loading = false;\r\n      targetOption.children = [\r\n        {\r\n          label: `${targetOption.label} Dynamic 1`,\r\n          value: 'dynamic1',\r\n        },\r\n        {\r\n          label: `${targetOption.label} Dynamic 2`,\r\n          value: 'dynamic2',\r\n        },\r\n      ];\r\n      setState({\r\n        options: [...state.options],\r\n      });\r\n    }, 1000);\r\n  };\r\n\r\n  return (\r\n    <CascaderStyle\r\n      options={options}\r\n      expandTrigger={trigger}\r\n      defaultValue={defaultValue}\r\n      onChange={loading ? onChangeLoading : onChangeEvent}\r\n      showSearch={isShowSearch && { filter }}\r\n      loadData={loadData}\r\n      placeholder={placeholder}\r\n      changeOnSelect={!!loading}\r\n    />\r\n  );\r\n};\r\n\r\nCascader.defaultProps = {\r\n  data: [\r\n    {\r\n      value: 'zhejiang',\r\n      label: 'Zhejiang',\r\n      children: [\r\n        {\r\n          value: 'hangzhou',\r\n          label: 'Hangzhou',\r\n          children: [\r\n            {\r\n              value: 'xihu',\r\n              label: 'West Lake',\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      value: 'jiangsu',\r\n      label: 'Jiangsu',\r\n      children: [\r\n        {\r\n          value: 'nanjing',\r\n          label: 'Nanjing',\r\n          children: [\r\n            {\r\n              value: 'zhonghuamen',\r\n              label: 'Zhong Hua Men',\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n  defaultValue: [],\r\n  trigger: 'click',\r\n  placeholder: 'Please select',\r\n};\r\n\r\nCascader.propTypes = {\r\n  data: PropTypes.arrayOf(PropTypes.object),\r\n  defaultValue: PropTypes.arrayOf(PropTypes.string),\r\n  trigger: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  onChange: PropTypes.func,\r\n  isShowSearch: PropTypes.bool,\r\n  loading: PropTypes.bool,\r\n};\r\n\r\nexport { Cascader };\r\n"]},"metadata":{},"sourceType":"module"}