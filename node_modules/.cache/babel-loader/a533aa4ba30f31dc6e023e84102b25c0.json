{"ast":null,"code":"import\"antd/es/upload/style\";import _Upload from\"antd/es/upload\";import\"antd/es/input/style\";import _Input from\"antd/es/input\";import\"antd/es/message/style\";import _message from\"antd/es/message\";import _objectSpread from\"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"antd/es/comment/style\";import _Comment from\"antd/es/comment\";import\"antd/es/avatar/style\";import _Avatar from\"antd/es/avatar\";/* eslint-disable jsx-a11y/click-events-have-key-events */ /* eslint-disable jsx-a11y/no-static-element-interactions */import React,{useState}from'react';import FeatherIcon from'feather-icons-react';import{Link}from'react-router-dom';import Masonry from'react-masonry-css';import Picker from'emoji-picker-react';import moment from'moment';import{useSelector,useDispatch}from'react-redux';import SimpleReactLightbox,{SRLWrapper}from'simple-react-lightbox';import{AllPosts,BackShadowEmoji,Title}from'./style';import{Cards}from'../../../../../components/cards/frame/cards-frame';import{Button}from'../../../../../components/buttons/buttons';import{likeUpdate,commentUpdate,postDelete}from'../../../../../redux/profile/actionCreator';var ExampleComment=function ExampleComment(_ref){var children=_ref.children,replay=_ref.replay;return/*#__PURE__*/React.createElement(_Comment,{actions:[/*#__PURE__*/React.createElement(\"span\",{className:\"com-like\",key:\"comment-nested-reply-to\"},\"Like \"),/*#__PURE__*/React.createElement(\"span\",{className:\"com-reply\",key:\"comment-nested-reply-to\"},\"Reply \"),/*#__PURE__*/React.createElement(\"span\",{className:\"com-time\",key:\"comment-nested-reply-to\"},moment(parseInt(replay.time,10)).fromNow())],author:/*#__PURE__*/React.createElement(\"span\",null,replay.name),avatar:/*#__PURE__*/React.createElement(_Avatar,{src:\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",alt:\"Han Solo\"}),content:/*#__PURE__*/React.createElement(\"p\",null,replay.text)},children);};var Posts=function Posts(_ref2){var postId=_ref2.postId,from=_ref2.from,time=_ref2.time,img=_ref2.img,like=_ref2.like,comment=_ref2.comment,content=_ref2.content,author=_ref2.author;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{posts:state.Profile.posts};}),posts=_useSelector.posts;var _useState=useState({inputValue:'',fileList:[],fileList2:[]}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),pickerShow=_useState4[0],setPickerShow=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),textValue=_useState6[0],setTextValue=_useState6[1];var onEmojiClick=function onEmojiClick(event,emojiObject){setTextValue(textValue+emojiObject.emoji);};var onPickerShow=function onPickerShow(){setPickerShow(!pickerShow);};var onTextChange=function onTextChange(e){setTextValue(e.target.value);};var props={name:'file',action:'https://www.mocky.io/v2/5cc8019d300000980a055e76',headers:{authorization:'authorization-text'},listType:'picture-card',onChange:function onChange(info){if(info.file.status!=='uploading'){// console.log(info.file, info.fileList);\nsetState(_objectSpread(_objectSpread({},state),{},{fileList:info.fileList}));}if(info.file.status==='done'){_message.success(\"\".concat(info.file.name,\" file uploaded successfully\"));}else if(info.file.status==='error'){_message.error(\"\".concat(info.file.name,\" file upload failed.\"));}}};var attachment={name:'file',action:'https://www.mocky.io/v2/5cc8019d300000980a055e76',headers:{authorization:'authorization-text'},onChange:function onChange(info){if(info.file.status!=='uploading'){// console.log(info.file, info.fileList);\nsetState(_objectSpread(_objectSpread({},state),{},{fileList2:info.fileList}));}if(info.file.status==='done'){_message.success(\"\".concat(info.file.name,\" file uploaded successfully\"));}else if(info.file.status==='error'){_message.error(\"\".concat(info.file.name,\" file upload failed.\"));}}};var onLikeUpdate=function onLikeUpdate(id){return dispatch(likeUpdate(posts,id));};var onCommentUpdate=function onCommentUpdate(id){dispatch(commentUpdate(posts,id,textValue));setTextValue('');};var onPostDelete=function onPostDelete(id){dispatch(postDelete(posts,id));};return/*#__PURE__*/React.createElement(SimpleReactLightbox,null,/*#__PURE__*/React.createElement(AllPosts,null,/*#__PURE__*/React.createElement(Cards,{title:/*#__PURE__*/React.createElement(Title,null,/*#__PURE__*/React.createElement(\"img\",{src:require(\"../../../../../\".concat(author)),alt:\"\"}),/*#__PURE__*/React.createElement(\"p\",null,from,\" \",/*#__PURE__*/React.createElement(\"span\",null,moment(parseInt(time,10)).fromNow()))),more:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){return onPostDelete(postId);},to:\"#\"},\"Delete\"))},/*#__PURE__*/React.createElement(\"div\",{className:\"post-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"gallery\"},img.length?/*#__PURE__*/React.createElement(SRLWrapper,null,/*#__PURE__*/React.createElement(Masonry,{breakpointCols:img.length<=2?img.length:2,className:\"my-masonry-grid\",columnClassName:\"my-masonry-grid_column\"},img.map(function(src,key){return key<=1&&/*#__PURE__*/React.createElement(\"a\",{key:key+1,href:require(\"../../../../../\".concat(src)),\"data-attribute\":\"SRL\"},/*#__PURE__*/React.createElement(\"img\",{key:key+1,style:{width:'100%'},src:require(\"../../../../../\".concat(src)),alt:\"\"}));})),img.length>2&&/*#__PURE__*/React.createElement(Masonry,{breakpointCols:img.length<=2?img.length:3,className:\"my-masonry-grid\",columnClassName:\"my-masonry-grid_column\"},img.map(function(src,key){return key>1&&/*#__PURE__*/React.createElement(\"a\",{key:key+1,href:require(\"../../../../../\".concat(src)),\"data-attribute\":\"SRL\"},/*#__PURE__*/React.createElement(\"img\",{key:key+1,style:{width:'100%'},src:require(\"../../../../../\".concat(src)),alt:\"\"}));}))):null),/*#__PURE__*/React.createElement(\"div\",{className:\"post-text\"},/*#__PURE__*/React.createElement(\"p\",null,content)),/*#__PURE__*/React.createElement(\"div\",{className:\"post-actions\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){return onLikeUpdate(postId);},to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"thumbs-up\",size:14})),like),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"message-square\",size:14})),comment.length),/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"share-2\",size:14}),\"Share\")),/*#__PURE__*/React.createElement(\"div\",{className:\"post-comments\"},/*#__PURE__*/React.createElement(\"div\",{className:\"commentArea\"},/*#__PURE__*/React.createElement(\"div\",{className:\"comment-form\"},/*#__PURE__*/React.createElement(\"img\",{src:require('../../../../../static/img/chat-author/t2.jpg'),alt:\"\"}),/*#__PURE__*/React.createElement(_Input.TextArea,{onChange:onTextChange,value:textValue,placeholder:\"Write comment....\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"chatbox-reply-action d-flex\"},/*#__PURE__*/React.createElement(\"span\",{className:\"smile-icon\"},pickerShow&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(BackShadowEmoji,{onClick:function onClick(){return setPickerShow(false);}}),/*#__PURE__*/React.createElement(Picker,{onEmojiClick:onEmojiClick})),/*#__PURE__*/React.createElement(Link,{onClick:onPickerShow,to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"smile\",size:24}))),/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(_Upload,props,/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"image\",size:18}))),/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(_Upload,attachment,/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"paperclip\",size:18}))))),/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return textValue===''?alert('Please input your comment...'):onCommentUpdate(postId);},type:\"primary\",className:\"btn-send\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"send\",size:18})))),comment.length?/*#__PURE__*/React.createElement(\"div\",{className:\"commentReplay\"},/*#__PURE__*/React.createElement(ExampleComment,{replay:{time:comment[0].time,name:comment[0].from,text:comment[0].text}},comment.length>1?comment.map(function(item,key){return key>=1&&/*#__PURE__*/React.createElement(ExampleComment,{replay:{time:item.time,name:item.name,text:item.text}});}):null)):null))));};export default Posts;","map":{"version":3,"sources":["/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/container/profile/myProfile/overview/timeline/Posts.js"],"names":["React","useState","FeatherIcon","Link","Masonry","Picker","moment","useSelector","useDispatch","SimpleReactLightbox","SRLWrapper","AllPosts","BackShadowEmoji","Title","Cards","Button","likeUpdate","commentUpdate","postDelete","ExampleComment","children","replay","parseInt","time","fromNow","name","text","Posts","postId","from","img","like","comment","content","author","dispatch","state","posts","Profile","inputValue","fileList","fileList2","setState","pickerShow","setPickerShow","textValue","setTextValue","onEmojiClick","event","emojiObject","emoji","onPickerShow","onTextChange","e","target","value","props","action","headers","authorization","listType","onChange","info","file","status","success","error","attachment","onLikeUpdate","id","onCommentUpdate","onPostDelete","require","length","map","src","key","width","alert","item"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/click-events-have-key-events */\r\n/* eslint-disable jsx-a11y/no-static-element-interactions */\r\nimport React, { useState } from 'react';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { Link } from 'react-router-dom';\r\nimport Masonry from 'react-masonry-css';\r\nimport { Input, Upload, message, Comment, Avatar } from 'antd';\r\nimport Picker from 'emoji-picker-react';\r\nimport moment from 'moment';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport SimpleReactLightbox, { SRLWrapper } from 'simple-react-lightbox';\r\nimport { AllPosts, BackShadowEmoji, Title } from './style';\r\nimport { Cards } from '../../../../../components/cards/frame/cards-frame';\r\nimport { Button } from '../../../../../components/buttons/buttons';\r\nimport { likeUpdate, commentUpdate, postDelete } from '../../../../../redux/profile/actionCreator';\r\n\r\nconst ExampleComment = ({ children, replay }) => (\r\n  <Comment\r\n    actions={[<span className=\"com-like\" key=\"comment-nested-reply-to\">Like </span>,<span className=\"com-reply\" key=\"comment-nested-reply-to\">Reply </span>,<span className=\"com-time\" key=\"comment-nested-reply-to\">{moment(parseInt(replay.time, 10)).fromNow()}</span>]}\r\n    author={<span>{replay.name}</span>}\r\n    avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" alt=\"Han Solo\" />}\r\n    content={<p>{replay.text}</p>}\r\n  >\r\n    {children}\r\n  </Comment>\r\n);\r\n\r\nExampleComment.propTypes = {\r\n  children: PropTypes.node,\r\n  replay: PropTypes.object,\r\n};\r\n\r\nconst Posts = ({ postId, from, time, img, like, comment, content, author }) => {\r\n  const dispatch = useDispatch();\r\n  const { posts } = useSelector(state => {\r\n    return {\r\n      posts: state.Profile.posts,\r\n    };\r\n  });\r\n\r\n  const [state, setState] = useState({\r\n    inputValue: '',\r\n    fileList: [],\r\n    fileList2: [],\r\n  });\r\n\r\n  const [pickerShow, setPickerShow] = useState(false);\r\n  const [textValue, setTextValue] = useState('');\r\n\r\n  const onEmojiClick = (event, emojiObject) => {\r\n    setTextValue(textValue + emojiObject.emoji);\r\n  };\r\n\r\n  const onPickerShow = () => {\r\n    setPickerShow(!pickerShow);\r\n  };\r\n\r\n  const onTextChange = e => {\r\n    setTextValue(e.target.value);\r\n  };\r\n\r\n  const props = {\r\n    name: 'file',\r\n    action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\r\n    headers: {\r\n      authorization: 'authorization-text',\r\n    },\r\n    listType: 'picture-card',\r\n    onChange(info) {\r\n      if (info.file.status !== 'uploading') {\r\n        // console.log(info.file, info.fileList);\r\n        setState({\r\n          ...state,\r\n          fileList: info.fileList,\r\n        });\r\n      }\r\n      if (info.file.status === 'done') {\r\n        message.success(`${info.file.name} file uploaded successfully`);\r\n      } else if (info.file.status === 'error') {\r\n        message.error(`${info.file.name} file upload failed.`);\r\n      }\r\n    },\r\n  };\r\n\r\n  const attachment = {\r\n    name: 'file',\r\n    action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\r\n    headers: {\r\n      authorization: 'authorization-text',\r\n    },\r\n    onChange(info) {\r\n      if (info.file.status !== 'uploading') {\r\n        // console.log(info.file, info.fileList);\r\n        setState({\r\n          ...state,\r\n          fileList2: info.fileList,\r\n        });\r\n      }\r\n      if (info.file.status === 'done') {\r\n        message.success(`${info.file.name} file uploaded successfully`);\r\n      } else if (info.file.status === 'error') {\r\n        message.error(`${info.file.name} file upload failed.`);\r\n      }\r\n    },\r\n  };\r\n\r\n  const onLikeUpdate = id => {\r\n    return dispatch(likeUpdate(posts, id));\r\n  };\r\n\r\n  const onCommentUpdate = id => {\r\n    dispatch(commentUpdate(posts, id, textValue));\r\n    setTextValue('');\r\n  };\r\n\r\n  const onPostDelete = id => {\r\n    dispatch(postDelete(posts, id));\r\n  };\r\n\r\n  return (\r\n    <SimpleReactLightbox>\r\n      <AllPosts>\r\n        <Cards\r\n          title={\r\n            <Title>\r\n              <img src={require(`../../../../../${author}`)} alt=\"\" />\r\n              <p>\r\n                {from} <span>{moment(parseInt(time, 10)).fromNow()}</span>\r\n              </p>\r\n            </Title>\r\n          }\r\n          more={\r\n            <>\r\n              <Link onClick={() => onPostDelete(postId)} to=\"#\">\r\n                Delete\r\n              </Link>\r\n            </>\r\n          }\r\n        >\r\n          <div className=\"post-content\">\r\n            <div className=\"gallery\">\r\n              {img.length ? (\r\n                <SRLWrapper>\r\n                  <Masonry\r\n                    breakpointCols={img.length <= 2 ? img.length : 2}\r\n                    className=\"my-masonry-grid\"\r\n                    columnClassName=\"my-masonry-grid_column\"\r\n                  >\r\n                    {img.map((src, key) => {\r\n                      return (\r\n                        key <= 1 && (\r\n                          <a key={key + 1} href={require(`../../../../../${src}`)} data-attribute=\"SRL\">\r\n                            <img\r\n                              key={key + 1}\r\n                              style={{ width: '100%' }}\r\n                              src={require(`../../../../../${src}`)}\r\n                              alt=\"\"\r\n                            />\r\n                          </a>\r\n                        )\r\n                      );\r\n                    })}\r\n                  </Masonry>\r\n                  {img.length > 2 && (\r\n                    <Masonry\r\n                      breakpointCols={img.length <= 2 ? img.length : 3}\r\n                      className=\"my-masonry-grid\"\r\n                      columnClassName=\"my-masonry-grid_column\"\r\n                    >\r\n                      {img.map((src, key) => {\r\n                        return (\r\n                          key > 1 && (\r\n                            <a key={key + 1} href={require(`../../../../../${src}`)} data-attribute=\"SRL\">\r\n                              <img\r\n                                key={key + 1}\r\n                                style={{ width: '100%' }}\r\n                                src={require(`../../../../../${src}`)}\r\n                                alt=\"\"\r\n                              />\r\n                            </a>\r\n                          )\r\n                        );\r\n                      })}\r\n                    </Masonry>\r\n                  )}\r\n                </SRLWrapper>\r\n              ) : null}\r\n            </div>\r\n            <div className=\"post-text\">\r\n              <p>{content}</p>\r\n            </div>\r\n            <div className=\"post-actions\">\r\n              <span>\r\n                <Link onClick={() => onLikeUpdate(postId)} to=\"#\">\r\n                  <FeatherIcon icon=\"thumbs-up\" size={14} />\r\n                </Link>\r\n                {like}\r\n              </span>\r\n              <span>\r\n                <Link to=\"#\">\r\n                  <FeatherIcon icon=\"message-square\" size={14} />\r\n                </Link>\r\n                {comment.length}\r\n              </span>\r\n\r\n              <Link to=\"#\">\r\n                <FeatherIcon icon=\"share-2\" size={14} />\r\n                Share\r\n              </Link>\r\n            </div>\r\n\r\n            <div className=\"post-comments\">\r\n              <div className=\"commentArea\">\r\n                <div className=\"comment-form\">\r\n                  <img src={require('../../../../../static/img/chat-author/t2.jpg')} alt=\"\" />\r\n                  <Input.TextArea onChange={onTextChange} value={textValue} placeholder=\"Write comment....\" />\r\n                  <div className=\"chatbox-reply-action d-flex\">\r\n                    <span className=\"smile-icon\">\r\n                      {pickerShow && (\r\n                        <>\r\n                          <BackShadowEmoji onClick={() => setPickerShow(false)} />\r\n                          <Picker onEmojiClick={onEmojiClick} />\r\n                        </>\r\n                      )}\r\n                      <Link onClick={onPickerShow} to=\"#\">\r\n                        <FeatherIcon icon=\"smile\" size={24} />\r\n                      </Link>\r\n                    </span>\r\n\r\n                    <Link to=\"#\">\r\n                      <Upload {...props}>\r\n                        <FeatherIcon icon=\"image\" size={18} />\r\n                      </Upload>\r\n                    </Link>\r\n                    <Link to=\"#\">\r\n                      <Upload {...attachment}>\r\n                        <FeatherIcon icon=\"paperclip\" size={18} />\r\n                      </Upload>\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n                <Button\r\n                  onClick={() => (textValue === '' ? alert('Please input your comment...') : onCommentUpdate(postId))}\r\n                  type=\"primary\"\r\n                  className=\"btn-send\"\r\n                >\r\n                  <FeatherIcon icon=\"send\" size={18} />\r\n                </Button>\r\n              </div>\r\n            </div>\r\n            {comment.length ? (\r\n              <div className=\"commentReplay\">\r\n                <ExampleComment\r\n                  replay={{\r\n                    time: comment[0].time,\r\n                    name: comment[0].from,\r\n                    text: comment[0].text,\r\n                  }}\r\n                >\r\n                  {comment.length > 1\r\n                    ? comment.map((item, key) => {\r\n                        return (\r\n                          key >= 1 && (\r\n                            <ExampleComment\r\n                              replay={{\r\n                                time: item.time,\r\n                                name: item.name,\r\n                                text: item.text,\r\n                              }}\r\n                            />\r\n                          )\r\n                        );\r\n                      })\r\n                    : null}\r\n                </ExampleComment>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </Cards>\r\n      </AllPosts>\r\n    </SimpleReactLightbox>\r\n  );\r\n};\r\n\r\nPosts.propTypes = {\r\n  postId: PropTypes.number,\r\n  from: PropTypes.string,\r\n  time: PropTypes.string,\r\n  img: PropTypes.array,\r\n  like: PropTypes.number,\r\n  comment: PropTypes.array,\r\n  content: PropTypes.string,\r\n  author: PropTypes.string,\r\n};\r\n\r\nexport default Posts;\r\n"]},"metadata":{},"sourceType":"module"}