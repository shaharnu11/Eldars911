{"ast":null,"code":"import\"antd/es/row/style\";import _Row from\"antd/es/row\";import\"antd/es/col/style\";import _Col from\"antd/es/col\";import\"antd/es/table/style\";import _Table from\"antd/es/table\";import\"antd/es/spin/style\";import _Spin from\"antd/es/spin\";import _objectSpread from\"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import FeatherIcon from'feather-icons-react';import{RecordViewWrapper}from'./style';import{Main,TableWrapper}from'../../styled';import{Button}from'../../../components/buttons/buttons';import{Cards}from'../../../components/cards/frame/cards-frame';import{PageHeader}from'../../../components/page-headers/page-headers';import{fbDataDelete,fbDataRead,fbDataSearch}from'../../../redux/firestore/actionCreator';var ViewPage=function ViewPage(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{crud:state.crud.data,isLoading:state.crud.loading};}),crud=_useSelector.crud,isLoading=_useSelector.isLoading;var _useState=useState({selectedRowKeys:[]}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var selectedRowKeys=state.selectedRowKeys;useEffect(function(){if(fbDataRead){dispatch(fbDataRead());}},[dispatch]);var dataSource=[];var handleDelete=function handleDelete(id){var confirm=window.confirm('Are you sure delete this?');if(confirm){dispatch(fbDataDelete(parseInt(id,10)));}return false;};var onHandleSearch=function onHandleSearch(e){dispatch(fbDataSearch(e.target.value,crud));};if(crud.length)crud.map(function(person,key){var id=person.id,name=person.name,email=person.email,company=person.company,position=person.position,join=person.join,status=person.status,city=person.city,country=person.country,url=person.url;return dataSource.push({key:key+1,name:/*#__PURE__*/React.createElement(\"div\",{className:\"record-img align-center-v\"},/*#__PURE__*/React.createElement(\"img\",{src:url!==null?url:require('../../../static/img/avatar/profileImage.png'),alt:id}),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"span\",null,name),/*#__PURE__*/React.createElement(\"span\",{className:\"record-location\"},city,\",\",country))),email:email,company:company,position:position,jdate:join,status:/*#__PURE__*/React.createElement(\"span\",{className:\"status \".concat(status)},status),action:/*#__PURE__*/React.createElement(\"div\",{className:\"table-actions\"},/*#__PURE__*/React.createElement(Link,{className:\"edit\",to:\"/admin/firestore/edit/\".concat(id)},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"edit\",size:14})),\"\\xA0\\xA0\\xA0\",/*#__PURE__*/React.createElement(Link,{className:\"delete\",onClick:function onClick(){return handleDelete(id);},to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"trash-2\",size:14})))});});var columns=[{title:'Name',dataIndex:'name',key:'name'},{title:'Email',dataIndex:'email',key:'email'},{title:'Company',dataIndex:'company',key:'company'},{title:'Position',dataIndex:'position',key:'position'},{title:'Status',dataIndex:'status',key:'status'},{title:'Joining Date',dataIndex:'jdate',key:'jdate'},{title:'Actions',dataIndex:'action',key:'action',width:'90px'}];var onSelectChange=function onSelectChange(selectedRowKey){setState(_objectSpread(_objectSpread({},state),{},{selectedRowKeys:selectedRowKey}));};var rowSelection={selectedRowKeys:selectedRowKeys,onChange:onSelectChange};return/*#__PURE__*/React.createElement(RecordViewWrapper,null,/*#__PURE__*/React.createElement(PageHeader,{subTitle:/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{className:\"btn-add_new\",size:\"default\",key:\"1\",type:\"primary\"},/*#__PURE__*/React.createElement(Link,{to:\"/admin/firestore/fbAdd\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"plus\",size:14}),\" Add New\"))),buttons:[/*#__PURE__*/React.createElement(\"div\",{key:1,className:\"search-box\"},/*#__PURE__*/React.createElement(\"span\",{className:\"search-icon\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"search\",size:14})),/*#__PURE__*/React.createElement(\"input\",{onChange:onHandleSearch,type:\"text\",name:\"recored-search\",placeholder:\"Search Here\"}))],ghost:true,title:\"Data List\"}),/*#__PURE__*/React.createElement(Main,null,/*#__PURE__*/React.createElement(_Row,{gutter:15},/*#__PURE__*/React.createElement(_Col,{className:\"w-100\",md:24},/*#__PURE__*/React.createElement(Cards,{headless:true},isLoading?/*#__PURE__*/React.createElement(\"div\",{className:\"spin\"},/*#__PURE__*/React.createElement(_Spin,null)):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(TableWrapper,{className:\"table-data-view table-responsive\"},/*#__PURE__*/React.createElement(_Table,{rowSelection:rowSelection,pagination:{pageSize:10,showSizeChanger:true},dataSource:dataSource,columns:columns}))))))));};export default ViewPage;","map":{"version":3,"sources":["/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/container/crud/fireStore/View.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Link","FeatherIcon","RecordViewWrapper","Main","TableWrapper","Button","Cards","PageHeader","fbDataDelete","fbDataRead","fbDataSearch","ViewPage","dispatch","state","crud","data","isLoading","loading","selectedRowKeys","setState","dataSource","handleDelete","id","confirm","window","parseInt","onHandleSearch","e","target","value","length","map","person","key","name","email","company","position","join","status","city","country","url","push","require","jdate","action","columns","title","dataIndex","width","onSelectChange","selectedRowKey","rowSelection","onChange","pageSize","showSizeChanger"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Row, Col, Table, Spin } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { RecordViewWrapper } from './style';\r\nimport { Main, TableWrapper } from '../../styled';\r\nimport { Button } from '../../../components/buttons/buttons';\r\nimport { Cards } from '../../../components/cards/frame/cards-frame';\r\nimport { PageHeader } from '../../../components/page-headers/page-headers';\r\nimport { fbDataDelete, fbDataRead, fbDataSearch } from '../../../redux/firestore/actionCreator';\r\n\r\nconst ViewPage = () => {\r\n  const dispatch = useDispatch();\r\n  const { crud, isLoading } = useSelector(state => {\r\n    return {\r\n      crud: state.crud.data,\r\n      isLoading: state.crud.loading,\r\n    };\r\n  });\r\n\r\n  const [state, setState] = useState({\r\n    selectedRowKeys: [],\r\n  });\r\n  const { selectedRowKeys } = state;\r\n\r\n  useEffect(() => {\r\n    if (fbDataRead) {\r\n      dispatch(fbDataRead());\r\n    }\r\n  }, [dispatch]);\r\n  const dataSource = [];\r\n\r\n  const handleDelete = id => {\r\n    const confirm = window.confirm('Are you sure delete this?');\r\n    if (confirm) {\r\n      dispatch(fbDataDelete(parseInt(id, 10)));\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const onHandleSearch = e => {\r\n    dispatch(fbDataSearch(e.target.value, crud));\r\n  };\r\n\r\n  if (crud.length)\r\n    crud.map((person, key) => {\r\n      const { id, name, email, company, position, join, status, city, country, url } = person;\r\n      return dataSource.push({\r\n        key: key + 1,\r\n        name: (\r\n          <div className=\"record-img align-center-v\">\r\n            <img src={url !== null ? url : require('../../../static/img/avatar/profileImage.png')} alt={id} />\r\n            <span>\r\n              <span>{name}</span>\r\n              <span className=\"record-location\">\r\n                {city},{country}\r\n              </span>\r\n            </span>\r\n          </div>\r\n        ),\r\n        email,\r\n        company,\r\n        position,\r\n        jdate: join,\r\n        status: <span className={`status ${status}`}>{status}</span>,\r\n        action: (\r\n          <div className=\"table-actions\">\r\n            <Link className=\"edit\" to={`/admin/firestore/edit/${id}`}>\r\n              <FeatherIcon icon=\"edit\" size={14} />\r\n            </Link>\r\n            &nbsp;&nbsp;&nbsp;\r\n            <Link className=\"delete\" onClick={() => handleDelete(id)} to=\"#\">\r\n              <FeatherIcon icon=\"trash-2\" size={14} />\r\n            </Link>\r\n          </div>\r\n        ),\r\n      });\r\n    });\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'email',\r\n      key: 'email',\r\n    },\r\n    {\r\n      title: 'Company',\r\n      dataIndex: 'company',\r\n      key: 'company',\r\n    },\r\n    {\r\n      title: 'Position',\r\n      dataIndex: 'position',\r\n      key: 'position',\r\n    },\r\n    {\r\n      title: 'Status',\r\n      dataIndex: 'status',\r\n      key: 'status',\r\n    },\r\n    {\r\n      title: 'Joining Date',\r\n      dataIndex: 'jdate',\r\n      key: 'jdate',\r\n    },\r\n    {\r\n      title: 'Actions',\r\n      dataIndex: 'action',\r\n      key: 'action',\r\n      width: '90px',\r\n    },\r\n  ];\r\n  const onSelectChange = selectedRowKey => {\r\n    setState({ ...state, selectedRowKeys: selectedRowKey });\r\n  };\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys,\r\n    onChange: onSelectChange,\r\n  };\r\n\r\n  return (\r\n    <RecordViewWrapper>\r\n      <PageHeader\r\n        subTitle={\r\n          <div>\r\n            <Button className=\"btn-add_new\" size=\"default\" key=\"1\" type=\"primary\">\r\n              <Link to=\"/admin/firestore/fbAdd\">\r\n                <FeatherIcon icon=\"plus\" size={14} /> Add New\r\n              </Link>\r\n            </Button>\r\n          </div>\r\n        }\r\n        buttons={[\r\n          <div key={1} className=\"search-box\">\r\n            <span className=\"search-icon\">\r\n              <FeatherIcon icon=\"search\" size={14} />\r\n            </span>\r\n            <input onChange={onHandleSearch} type=\"text\" name=\"recored-search\" placeholder=\"Search Here\" />\r\n          </div>,\r\n        ]}\r\n        ghost\r\n        title=\"Data List\"\r\n      />\r\n      <Main>\r\n        <Row gutter={15}>\r\n          <Col className=\"w-100\" md={24}>\r\n            <Cards headless>\r\n              {isLoading ? (\r\n                <div className=\"spin\">\r\n                  <Spin />\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <TableWrapper className=\"table-data-view table-responsive\">\r\n                    <Table\r\n                      rowSelection={rowSelection}\r\n                      pagination={{ pageSize: 10, showSizeChanger: true }}\r\n                      dataSource={dataSource}\r\n                      columns={columns}\r\n                    />\r\n                  </TableWrapper>\r\n                </div>\r\n              )}\r\n            </Cards>\r\n          </Col>\r\n        </Row>\r\n      </Main>\r\n    </RecordViewWrapper>\r\n  );\r\n};\r\n\r\nexport default ViewPage;\r\n"]},"metadata":{},"sourceType":"module"}