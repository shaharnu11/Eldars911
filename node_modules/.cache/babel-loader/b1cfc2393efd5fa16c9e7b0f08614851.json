{"ast":null,"code":"import\"antd/es/upload/style\";import _Upload from\"antd/es/upload\";import\"antd/es/message/style\";import _message from\"antd/es/message\";import _objectSpread from\"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import FeatherIcon from'feather-icons-react';import RichTextEditor from'react-rte';import TagsInput from'react-tagsinput';import'react-tagsinput/react-tagsinput.css';import{Link}from'react-router-dom';import{MailBox}from'./style';import{Button}from'../../../components/buttons/buttons';var MailComposer=function MailComposer(_ref){var onChange=_ref.onChange,onSend=_ref.onSend,defaultTag=_ref.defaultTag,replay=_ref.replay;var _useState=useState({value:RichTextEditor.createEmptyValue(),tags:defaultTag?[defaultTag]:[]}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var onChanges=function onChanges(value){setState(_objectSpread(_objectSpread({},state),{},{value:value}));if(onChange){onChange(value.toString('html'));}};var handleChange=function handleChange(tags){setState(_objectSpread(_objectSpread({},state),{},{tags:tags}));};var onSubmit=function onSubmit(){onSend(state.value.toString('html'));};var props={name:'file',action:'https://www.mocky.io/v2/5cc8019d300000980a055e76',headers:{authorization:'authorization-text'},onChange:function onChange(info){if(info.file.status!=='uploading'){console.log(info.file,info.fileList);}if(info.file.status==='done'){_message.success(\"\".concat(info.file.name,\" file uploaded successfully\"));}else if(info.file.status==='error'){_message.error(\"\".concat(info.file.name,\" file upload failed.\"));}}};return/*#__PURE__*/React.createElement(MailBox,null,/*#__PURE__*/React.createElement(\"div\",{className:\"body\"},/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},className:\"group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"reply-inner\",style:{display:'flex',alignItems:'center'}},!replay?null:/*#__PURE__*/React.createElement(\"span\",{className:\"reply-title\"},\"Replay To\"),/*#__PURE__*/React.createElement(TagsInput,{inputProps:{placeholder:replay?null:'To'},value:state.tags,onChange:handleChange})),/*#__PURE__*/React.createElement(\"span\",{className:\"mail-cc\"},\"Cc\")),/*#__PURE__*/React.createElement(\"div\",{className:\"group\"},/*#__PURE__*/React.createElement(RichTextEditor,{placeholder:\"Type your message...\",value:state.value,onChange:onChanges}))),/*#__PURE__*/React.createElement(\"div\",{className:\"footer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"left d-flex align-items-center\"},/*#__PURE__*/React.createElement(Button,{size:\"default\",type:\"primary\",onClick:onSubmit,raised:true},\"Send\"),/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(_Upload,props,/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"paperclip\",size:16}))),/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"alert-circle\",size:16}))),/*#__PURE__*/React.createElement(\"div\",{className:\"right\"},/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"trash-2\",size:16})))));};export default MailComposer;","map":{"version":3,"sources":["/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/container/email/overview/MailComposer.js"],"names":["React","useState","FeatherIcon","RichTextEditor","TagsInput","Link","MailBox","Button","MailComposer","onChange","onSend","defaultTag","replay","value","createEmptyValue","tags","state","setState","onChanges","toString","handleChange","onSubmit","props","name","action","headers","authorization","info","file","status","console","log","fileList","success","error","display","justifyContent","alignItems","placeholder"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport RichTextEditor from 'react-rte';\r\nimport TagsInput from 'react-tagsinput';\r\nimport 'react-tagsinput/react-tagsinput.css';\r\nimport { Link } from 'react-router-dom';\r\nimport propTypes from 'prop-types';\r\nimport { Upload, message } from 'antd';\r\nimport { MailBox } from './style';\r\nimport { Button } from '../../../components/buttons/buttons';\r\n\r\nconst MailComposer = ({ onChange, onSend, defaultTag, replay }) => {\r\n  const [state, setState] = useState({\r\n    value: RichTextEditor.createEmptyValue(),\r\n    tags: defaultTag ? [defaultTag] : [],\r\n  });\r\n\r\n  const onChanges = value => {\r\n    setState({ ...state, value });\r\n    if (onChange) {\r\n      onChange(value.toString('html'));\r\n    }\r\n  };\r\n\r\n  const handleChange = tags => {\r\n    setState({ ...state, tags });\r\n  };\r\n\r\n  const onSubmit = () => {\r\n    onSend(state.value.toString('html'));\r\n  };\r\n\r\n  const props = {\r\n    name: 'file',\r\n    action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\r\n    headers: {\r\n      authorization: 'authorization-text',\r\n    },\r\n    onChange(info) {\r\n      if (info.file.status !== 'uploading') {\r\n        console.log(info.file, info.fileList);\r\n      }\r\n      if (info.file.status === 'done') {\r\n        message.success(`${info.file.name} file uploaded successfully`);\r\n      } else if (info.file.status === 'error') {\r\n        message.error(`${info.file.name} file upload failed.`);\r\n      }\r\n    },\r\n  };\r\n\r\n  return (\r\n    <MailBox>\r\n      <div className=\"body\">\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }} className=\"group\">\r\n          <div className=\"reply-inner\" style={{ display: 'flex', alignItems: 'center' }}>\r\n            {!replay ? null : <span className=\"reply-title\">Replay To</span>}\r\n            <TagsInput\r\n              inputProps={{\r\n                placeholder: replay ? null : 'To',\r\n              }}\r\n              value={state.tags}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <span className=\"mail-cc\">Cc</span>\r\n        </div>\r\n        <div className=\"group\">\r\n          <RichTextEditor placeholder=\"Type your message...\" value={state.value} onChange={onChanges} />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"footer\">\r\n        <div className=\"left d-flex align-items-center\">\r\n          <Button size=\"default\" type=\"primary\" onClick={onSubmit} raised>\r\n            Send\r\n          </Button>\r\n          <Link to=\"#\">\r\n            <Upload {...props}>\r\n              <FeatherIcon icon=\"paperclip\" size={16} />\r\n            </Upload>\r\n          </Link>\r\n          <Link to=\"#\">\r\n            <FeatherIcon icon=\"alert-circle\" size={16} />\r\n          </Link>\r\n        </div>\r\n        <div className=\"right\">\r\n          <Link to=\"#\">\r\n            <FeatherIcon icon=\"trash-2\" size={16} />\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </MailBox>\r\n  );\r\n};\r\nMailComposer.propTypes = {\r\n  onChange: propTypes.func.isRequired,\r\n  onSend: propTypes.func.isRequired,\r\n  defaultTag: propTypes.string,\r\n};\r\n\r\nexport default MailComposer;\r\n"]},"metadata":{},"sourceType":"module"}