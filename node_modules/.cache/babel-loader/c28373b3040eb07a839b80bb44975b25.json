{"ast":null,"code":"import\"antd/es/config-provider/style\";import _ConfigProvider from\"antd/es/config-provider\";import _objectSpread from\"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';// eslint-disable-next-line import/no-extraneous-dependencies\nimport{hot}from'react-hot-loader/root';import{Provider,useSelector}from'react-redux';import{ThemeProvider}from'styled-components';import{BrowserRouter as Router,Redirect,Route}from'react-router-dom';import{ReactReduxFirebaseProvider}from'react-redux-firebase';import store,{rrfProps}from'./redux/store';import Admin from'./routes/admin';import Auth from'./routes/auth';import'./static/css/style.css';import config from'./config/config';import ProtectedRoute from'./components/utilities/protectedRoute';var theme=config.theme;var ProviderConfig=function ProviderConfig(){var _useSelector=useSelector(function(state){return{rtl:state.ChangeLayoutMode.rtlData,topMenu:state.ChangeLayoutMode.topMenu,isLoggedIn:state.auth.login};}),rtl=_useSelector.rtl,isLoggedIn=_useSelector.isLoggedIn,topMenu=_useSelector.topMenu;var _useState=useState(window.location.pathname),_useState2=_slicedToArray(_useState,2),path=_useState2[0],setPath=_useState2[1];useEffect(function(){var unmounted=false;if(!unmounted){setPath(window.location.pathname);}// eslint-disable-next-line no-return-assign\nreturn function(){return unmounted=true;};},[setPath]);return/*#__PURE__*/React.createElement(_ConfigProvider,{direction:rtl?'rtl':'ltr'},/*#__PURE__*/React.createElement(ThemeProvider,{theme:_objectSpread(_objectSpread({},theme),{},{rtl:rtl,topMenu:topMenu})},/*#__PURE__*/React.createElement(ReactReduxFirebaseProvider,rrfProps,/*#__PURE__*/React.createElement(Router,{basename:process.env.PUBLIC_URL},!isLoggedIn?/*#__PURE__*/React.createElement(Route,{path:\"/\",component:Auth}):/*#__PURE__*/React.createElement(ProtectedRoute,{path:\"/admin\",component:Admin}),isLoggedIn&&(path===process.env.PUBLIC_URL||path===\"\".concat(process.env.PUBLIC_URL,\"/\"))&&/*#__PURE__*/React.createElement(Redirect,{to:\"/admin\"})))));};function App(){return/*#__PURE__*/React.createElement(Provider,{store:store},/*#__PURE__*/React.createElement(ProviderConfig,null));}export default App;","map":{"version":3,"sources":["/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/App.js"],"names":["React","useEffect","useState","hot","Provider","useSelector","ThemeProvider","BrowserRouter","Router","Redirect","Route","ReactReduxFirebaseProvider","store","rrfProps","Admin","Auth","config","ProtectedRoute","theme","ProviderConfig","state","rtl","ChangeLayoutMode","rtlData","topMenu","isLoggedIn","auth","login","window","location","pathname","path","setPath","unmounted","process","env","PUBLIC_URL","App"],"mappings":"sbAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA;AACA,OAASC,GAAT,KAAoB,uBAApB,CACA,OAASC,QAAT,CAAmBC,WAAnB,KAAsC,aAAtC,CACA,OAASC,aAAT,KAA8B,mBAA9B,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,QAAlC,CAA4CC,KAA5C,KAAyD,kBAAzD,CACA,OAASC,0BAAT,KAA2C,sBAA3C,CAEA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,eAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,eAAjB,CACA,MAAO,wBAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,MAAOC,CAAAA,cAAP,KAA2B,uCAA3B,C,GAEQC,CAAAA,K,CAAUF,M,CAAVE,K,CAER,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,kBACUd,WAAW,CAAC,SAAAe,KAAK,CAAI,CACxD,MAAO,CACLC,GAAG,CAAED,KAAK,CAACE,gBAAN,CAAuBC,OADvB,CAELC,OAAO,CAAEJ,KAAK,CAACE,gBAAN,CAAuBE,OAF3B,CAGLC,UAAU,CAAEL,KAAK,CAACM,IAAN,CAAWC,KAHlB,CAAP,CAKD,CAN+C,CADrB,CACnBN,GADmB,cACnBA,GADmB,CACdI,UADc,cACdA,UADc,CACFD,OADE,cACFA,OADE,eASHtB,QAAQ,CAAC0B,MAAM,CAACC,QAAP,CAAgBC,QAAjB,CATL,wCASpBC,IAToB,eASdC,OATc,eAW3B/B,SAAS,CAAC,UAAM,CACd,GAAIgC,CAAAA,SAAS,CAAG,KAAhB,CACA,GAAI,CAACA,SAAL,CAAgB,CACdD,OAAO,CAACJ,MAAM,CAACC,QAAP,CAAgBC,QAAjB,CAAP,CACD,CACD;AACA,MAAO,kBAAOG,CAAAA,SAAS,CAAG,IAAnB,EAAP,CACD,CAPQ,CAON,CAACD,OAAD,CAPM,CAAT,CASA,mBACE,qCAAgB,SAAS,CAAEX,GAAG,CAAG,KAAH,CAAW,KAAzC,eACE,oBAAC,aAAD,EAAe,KAAK,gCAAOH,KAAP,MAAcG,GAAG,CAAHA,GAAd,CAAmBG,OAAO,CAAPA,OAAnB,EAApB,eACE,oBAAC,0BAAD,CAAgCX,QAAhC,cACE,oBAAC,MAAD,EAAQ,QAAQ,CAAEqB,OAAO,CAACC,GAAR,CAAYC,UAA9B,EACG,CAACX,UAAD,cAAc,oBAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,SAAS,CAAEV,IAA3B,EAAd,cAAoD,oBAAC,cAAD,EAAgB,IAAI,CAAC,QAArB,CAA8B,SAAS,CAAED,KAAzC,EADvD,CAEGW,UAAU,GAAKM,IAAI,GAAKG,OAAO,CAACC,GAAR,CAAYC,UAArB,EAAmCL,IAAI,aAAQG,OAAO,CAACC,GAAR,CAAYC,UAApB,KAA5C,CAAV,eACC,oBAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAHJ,CADF,CADF,CADF,CADF,CAcD,CAlCD,CAoCA,QAASC,CAAAA,GAAT,EAAe,CACb,mBACE,oBAAC,QAAD,EAAU,KAAK,CAAEzB,KAAjB,eACE,oBAAC,cAAD,MADF,CADF,CAKD,CAED,cAAmByB,CAAAA,GAAnB","sourcesContent":["import React, { useEffect, useState } from 'react';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport { hot } from 'react-hot-loader/root';\r\nimport { Provider, useSelector } from 'react-redux';\r\nimport { ThemeProvider } from 'styled-components';\r\nimport { BrowserRouter as Router, Redirect, Route } from 'react-router-dom';\r\nimport { ReactReduxFirebaseProvider } from 'react-redux-firebase';\r\nimport { ConfigProvider } from 'antd';\r\nimport store, { rrfProps } from './redux/store';\r\nimport Admin from './routes/admin';\r\nimport Auth from './routes/auth';\r\nimport './static/css/style.css';\r\nimport config from './config/config';\r\nimport ProtectedRoute from './components/utilities/protectedRoute';\r\n\r\nconst { theme } = config;\r\n\r\nconst ProviderConfig = () => {\r\n  const { rtl, isLoggedIn, topMenu } = useSelector(state => {\r\n    return {\r\n      rtl: state.ChangeLayoutMode.rtlData,\r\n      topMenu: state.ChangeLayoutMode.topMenu,\r\n      isLoggedIn: state.auth.login,\r\n    };\r\n  });\r\n\r\n  const [path, setPath] = useState(window.location.pathname);\r\n\r\n  useEffect(() => {\r\n    let unmounted = false;\r\n    if (!unmounted) {\r\n      setPath(window.location.pathname);\r\n    }\r\n    // eslint-disable-next-line no-return-assign\r\n    return () => (unmounted = true);\r\n  }, [setPath]);\r\n\r\n  return (\r\n    <ConfigProvider direction={rtl ? 'rtl' : 'ltr'}>\r\n      <ThemeProvider theme={{ ...theme, rtl, topMenu }}>\r\n        <ReactReduxFirebaseProvider {...rrfProps}>\r\n          <Router basename={process.env.PUBLIC_URL}>\r\n            {!isLoggedIn ? <Route path=\"/\" component={Auth} /> : <ProtectedRoute path=\"/admin\" component={Admin} />}\r\n            {isLoggedIn && (path === process.env.PUBLIC_URL || path === `${process.env.PUBLIC_URL}/`) && (\r\n              <Redirect to=\"/admin\" />\r\n            )}\r\n          </Router>\r\n        </ReactReduxFirebaseProvider>\r\n      </ThemeProvider>\r\n    </ConfigProvider>\r\n  );\r\n};\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <ProviderConfig />\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default hot(App);\r\n"]},"metadata":{},"sourceType":"module"}