{"ast":null,"code":"import\"antd/es/spin/style\";import _Spin from\"antd/es/spin\";import _objectSpread from\"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{NavLink,Link}from'react-router-dom';import FeatherIcon from'feather-icons-react';import{useDispatch,useSelector}from'react-redux';import{PerformanceChartWrapper,Pstates}from'../../style';import{Cards}from'../../../../components/cards/frame/cards-frame';import Heading from'../../../../components/heading/heading';import{ChartjsAreaChart}from'../../../../components/charts/chartjs';import{chartLinearGradient,customTooltips}from'../../../../components/utilities/utilities';import{performanceFilterData,performanceGetData,setIsLoading}from'../../../../redux/chartContent/actionCreator';var moreContent=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(NavLink,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{size:16,icon:\"printer\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Printer\")),/*#__PURE__*/React.createElement(NavLink,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{size:16,icon:\"book-open\"}),/*#__PURE__*/React.createElement(\"span\",null,\"PDF\")),/*#__PURE__*/React.createElement(NavLink,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{size:16,icon:\"file-text\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Google Sheets\")),/*#__PURE__*/React.createElement(NavLink,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{size:16,icon:\"x\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Excel (XLSX)\")),/*#__PURE__*/React.createElement(NavLink,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{size:16,icon:\"file\"}),/*#__PURE__*/React.createElement(\"span\",null,\"CSV\")));var WebsitePerformance=function WebsitePerformance(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{performanceState:state.chartContent.performanceData,preIsLoading:state.chartContent.perLoading};}),performanceState=_useSelector.performanceState,preIsLoading=_useSelector.preIsLoading;var _useState=useState({performance:'year',performanceTab:'users'}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var performance=state.performance,performanceTab=state.performanceTab;useEffect(function(){if(performanceGetData){dispatch(performanceGetData());}},[dispatch]);var handleActiveChangePerformance=function handleActiveChangePerformance(value){setState(_objectSpread(_objectSpread({},state),{},{performance:value}));dispatch(performanceFilterData(value));};var onPerformanceTab=function onPerformanceTab(value){setState(_objectSpread(_objectSpread({},state),{},{performanceTab:value}));return dispatch(setIsLoading());};var performanceDatasets=performanceState!==null&&[{data:performanceState[performanceTab][1],borderColor:'#5F63F2',borderWidth:4,fill:true,backgroundColor:function backgroundColor(){return chartLinearGradient(document.getElementById('performance'),300,{start:'#5F63F230',end:'#ffffff05'});},label:'Current period',pointStyle:'circle',pointRadius:'0',hoverRadius:'9',pointBorderColor:'#fff',pointBackgroundColor:'#5F63F2',hoverBorderWidth:5},{data:performanceState[performanceTab][2],borderColor:'#C6D0DC',borderWidth:2,fill:false,backgroundColor:'#00173750',label:'Previous period',borderDash:[3,3],pointRadius:'0',hoverRadius:'0'}];return/*#__PURE__*/React.createElement(PerformanceChartWrapper,null,performanceState!==null&&/*#__PURE__*/React.createElement(Cards,{isbutton:/*#__PURE__*/React.createElement(\"div\",{className:\"card-nav\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{className:performance==='week'?'active':'deactivate'},/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){return handleActiveChangePerformance('week');},to:\"#\"},\"Week\")),/*#__PURE__*/React.createElement(\"li\",{className:performance==='month'?'active':'deactivate'},/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){return handleActiveChangePerformance('month');},to:\"#\"},\"Month\")),/*#__PURE__*/React.createElement(\"li\",{className:performance==='year'?'active':'deactivate'},/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){return handleActiveChangePerformance('year');},to:\"#\"},\"Year\")))),more:moreContent,title:\"Website Performance\",size:\"large\"},/*#__PURE__*/React.createElement(Pstates,null,/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return onPerformanceTab('users');},className:\"growth-upward \".concat(performanceTab==='users'&&'active'),role:\"button\",onKeyPress:function onKeyPress(){},tabIndex:\"0\"},/*#__PURE__*/React.createElement(\"p\",null,\"Users\"),/*#__PURE__*/React.createElement(Heading,{as:\"h1\"},performanceState.users[0],/*#__PURE__*/React.createElement(\"sub\",null,/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"arrow-up\",size:14}),\" 25%\")))),/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return onPerformanceTab('sessions');},className:\"growth-upward \".concat(performanceTab==='sessions'&&'active'),role:\"button\",onKeyPress:function onKeyPress(){},tabIndex:\"0\"},/*#__PURE__*/React.createElement(\"p\",null,\"Sessions\"),/*#__PURE__*/React.createElement(Heading,{as:\"h1\"},performanceState.sessions[0],/*#__PURE__*/React.createElement(\"sub\",null,/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"arrow-up\",size:14}),\" 47%\")))),/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return onPerformanceTab('bounce');},className:\"growth-downward \".concat(performanceTab==='bounce'&&'active'),role:\"button\",onKeyPress:function onKeyPress(){},tabIndex:\"0\"},/*#__PURE__*/React.createElement(\"p\",null,\"Bounce Rate\"),/*#__PURE__*/React.createElement(Heading,{as:\"h1\"},performanceState.bounce[0],/*#__PURE__*/React.createElement(\"sub\",null,/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"arrow-down\",size:14}),\" 28%\")))),/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return onPerformanceTab('duration');},className:\"growth-upward \".concat(performanceTab==='duration'&&'active'),role:\"button\",onKeyPress:function onKeyPress(){},tabIndex:\"0\"},/*#__PURE__*/React.createElement(\"p\",null,\"Session Duration\"),/*#__PURE__*/React.createElement(Heading,{as:\"h1\"},performanceState.duration[0],/*#__PURE__*/React.createElement(\"sub\",null,/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"arrow-up\",size:14}),\" 13%\"))))),preIsLoading?/*#__PURE__*/React.createElement(\"div\",{className:\"sd-spin\"},/*#__PURE__*/React.createElement(_Spin,null)):/*#__PURE__*/React.createElement(\"div\",{className:\"performance-lineChart\"},/*#__PURE__*/React.createElement(ChartjsAreaChart,{id:\"performance\",labels:performanceState.labels,datasets:performanceDatasets,options:{maintainAspectRatio:true,elements:{z:9999},legend:{display:false},hover:{mode:'index',intersect:false},tooltips:{mode:'label',intersect:false,backgroundColor:'#ffffff',position:'average',enabled:false,custom:customTooltips,callbacks:{title:function title(){return performanceTab;},label:function label(t,d){var yLabel=t.yLabel,datasetIndex=t.datasetIndex;return\"<span class=\\\"chart-data\\\">\".concat(yLabel,\"k</span> <span class=\\\"data-label\\\">\").concat(d.datasets[datasetIndex].label,\"</span>\");}}},scales:{yAxes:[{gridLines:{color:'#e5e9f2',borderDash:[3,3],zeroLineColor:'#e5e9f2',zeroLineWidth:1,zeroLineBorderDash:[3,3]},ticks:{beginAtZero:true,fontSize:13,fontColor:'#182b49',max:80,stepSize:20,callback:function callback(label){return\"\".concat(label,\"k\");}}}],xAxes:[{gridLines:{display:true,zeroLineWidth:2,zeroLineColor:'transparent',color:'transparent',z:1,tickMarkLength:0},ticks:{padding:10}}]}},height:window.innerWidth<=575?200:86}),/*#__PURE__*/React.createElement(\"ul\",null,performanceDatasets&&performanceDatasets.map(function(item,index){return/*#__PURE__*/React.createElement(\"li\",{key:index+1,className:\"custom-label\"},/*#__PURE__*/React.createElement(\"span\",{style:{backgroundColor:item.borderColor}}),item.label);})))));};export default WebsitePerformance;","map":{"version":3,"sources":["/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/src/container/dashboard/overview/performance/WebsitePerformance.js"],"names":["React","useState","useEffect","NavLink","Link","FeatherIcon","useDispatch","useSelector","PerformanceChartWrapper","Pstates","Cards","Heading","ChartjsAreaChart","chartLinearGradient","customTooltips","performanceFilterData","performanceGetData","setIsLoading","moreContent","WebsitePerformance","dispatch","state","performanceState","chartContent","performanceData","preIsLoading","perLoading","performance","performanceTab","setState","handleActiveChangePerformance","value","onPerformanceTab","performanceDatasets","data","borderColor","borderWidth","fill","backgroundColor","document","getElementById","start","end","label","pointStyle","pointRadius","hoverRadius","pointBorderColor","pointBackgroundColor","hoverBorderWidth","borderDash","users","sessions","bounce","duration","labels","maintainAspectRatio","elements","z","legend","display","hover","mode","intersect","tooltips","position","enabled","custom","callbacks","title","t","d","yLabel","datasetIndex","datasets","scales","yAxes","gridLines","color","zeroLineColor","zeroLineWidth","zeroLineBorderDash","ticks","beginAtZero","fontSize","fontColor","max","stepSize","callback","xAxes","tickMarkLength","padding","window","innerWidth","map","item","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Spin } from 'antd';\r\nimport { NavLink, Link } from 'react-router-dom';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { PerformanceChartWrapper, Pstates } from '../../style';\r\nimport { Cards } from '../../../../components/cards/frame/cards-frame';\r\nimport Heading from '../../../../components/heading/heading';\r\nimport { ChartjsAreaChart } from '../../../../components/charts/chartjs';\r\nimport { chartLinearGradient, customTooltips } from '../../../../components/utilities/utilities';\r\nimport { performanceFilterData, performanceGetData, setIsLoading } from '../../../../redux/chartContent/actionCreator';\r\n\r\nconst moreContent = (\r\n  <>\r\n    <NavLink to=\"#\">\r\n      <FeatherIcon size={16} icon=\"printer\" />\r\n      <span>Printer</span>\r\n    </NavLink>\r\n    <NavLink to=\"#\">\r\n      <FeatherIcon size={16} icon=\"book-open\" />\r\n      <span>PDF</span>\r\n    </NavLink>\r\n    <NavLink to=\"#\">\r\n      <FeatherIcon size={16} icon=\"file-text\" />\r\n      <span>Google Sheets</span>\r\n    </NavLink>\r\n    <NavLink to=\"#\">\r\n      <FeatherIcon size={16} icon=\"x\" />\r\n      <span>Excel (XLSX)</span>\r\n    </NavLink>\r\n    <NavLink to=\"#\">\r\n      <FeatherIcon size={16} icon=\"file\" />\r\n      <span>CSV</span>\r\n    </NavLink>\r\n  </>\r\n);\r\n\r\nconst WebsitePerformance = () => {\r\n  const dispatch = useDispatch();\r\n  const { performanceState, preIsLoading } = useSelector(state => {\r\n    return {\r\n      performanceState: state.chartContent.performanceData,\r\n      preIsLoading: state.chartContent.perLoading,\r\n    };\r\n  });\r\n\r\n  const [state, setState] = useState({\r\n    performance: 'year',\r\n    performanceTab: 'users',\r\n  });\r\n\r\n  const { performance, performanceTab } = state;\r\n\r\n  useEffect(() => {\r\n    if (performanceGetData) {\r\n      dispatch(performanceGetData());\r\n    }\r\n  }, [dispatch]);\r\n\r\n  const handleActiveChangePerformance = value => {\r\n    setState({\r\n      ...state,\r\n      performance: value,\r\n    });\r\n    dispatch(performanceFilterData(value));\r\n  };\r\n\r\n  const onPerformanceTab = value => {\r\n    setState({\r\n      ...state,\r\n      performanceTab: value,\r\n    });\r\n    return dispatch(setIsLoading());\r\n  };\r\n\r\n  const performanceDatasets = performanceState !== null && [\r\n    {\r\n      data: performanceState[performanceTab][1],\r\n      borderColor: '#5F63F2',\r\n      borderWidth: 4,\r\n      fill: true,\r\n      backgroundColor: () =>\r\n        chartLinearGradient(document.getElementById('performance'), 300, {\r\n          start: '#5F63F230',\r\n          end: '#ffffff05',\r\n        }),\r\n      label: 'Current period',\r\n      pointStyle: 'circle',\r\n      pointRadius: '0',\r\n      hoverRadius: '9',\r\n      pointBorderColor: '#fff',\r\n      pointBackgroundColor: '#5F63F2',\r\n      hoverBorderWidth: 5,\r\n    },\r\n    {\r\n      data: performanceState[performanceTab][2],\r\n      borderColor: '#C6D0DC',\r\n      borderWidth: 2,\r\n      fill: false,\r\n      backgroundColor: '#00173750',\r\n      label: 'Previous period',\r\n      borderDash: [3, 3],\r\n      pointRadius: '0',\r\n      hoverRadius: '0',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <PerformanceChartWrapper>\r\n      {performanceState !== null && (\r\n        <Cards\r\n          isbutton={\r\n            <div className=\"card-nav\">\r\n              <ul>\r\n                <li className={performance === 'week' ? 'active' : 'deactivate'}>\r\n                  <Link onClick={() => handleActiveChangePerformance('week')} to=\"#\">\r\n                    Week\r\n                  </Link>\r\n                </li>\r\n                <li className={performance === 'month' ? 'active' : 'deactivate'}>\r\n                  <Link onClick={() => handleActiveChangePerformance('month')} to=\"#\">\r\n                    Month\r\n                  </Link>\r\n                </li>\r\n                <li className={performance === 'year' ? 'active' : 'deactivate'}>\r\n                  <Link onClick={() => handleActiveChangePerformance('year')} to=\"#\">\r\n                    Year\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          }\r\n          more={moreContent}\r\n          title=\"Website Performance\"\r\n          size=\"large\"\r\n        >\r\n          <Pstates>\r\n            <div\r\n              onClick={() => onPerformanceTab('users')}\r\n              className={`growth-upward ${performanceTab === 'users' && 'active'}`}\r\n              role=\"button\"\r\n              onKeyPress={() => {}}\r\n              tabIndex=\"0\"\r\n            >\r\n              <p>Users</p>\r\n              <Heading as=\"h1\">\r\n                {performanceState.users[0]}\r\n                <sub>\r\n                  <span>\r\n                    <FeatherIcon icon=\"arrow-up\" size={14} /> 25%\r\n                  </span>\r\n                </sub>\r\n              </Heading>\r\n            </div>\r\n            <div\r\n              onClick={() => onPerformanceTab('sessions')}\r\n              className={`growth-upward ${performanceTab === 'sessions' && 'active'}`}\r\n              role=\"button\"\r\n              onKeyPress={() => {}}\r\n              tabIndex=\"0\"\r\n            >\r\n              <p>Sessions</p>\r\n              <Heading as=\"h1\">\r\n                {performanceState.sessions[0]}\r\n                <sub>\r\n                  <span>\r\n                    <FeatherIcon icon=\"arrow-up\" size={14} /> 47%\r\n                  </span>\r\n                </sub>\r\n              </Heading>\r\n            </div>\r\n            <div\r\n              onClick={() => onPerformanceTab('bounce')}\r\n              className={`growth-downward ${performanceTab === 'bounce' && 'active'}`}\r\n              role=\"button\"\r\n              onKeyPress={() => {}}\r\n              tabIndex=\"0\"\r\n            >\r\n              <p>Bounce Rate</p>\r\n              <Heading as=\"h1\">\r\n                {performanceState.bounce[0]}\r\n                <sub>\r\n                  <span>\r\n                    <FeatherIcon icon=\"arrow-down\" size={14} /> 28%\r\n                  </span>\r\n                </sub>\r\n              </Heading>\r\n            </div>\r\n            <div\r\n              onClick={() => onPerformanceTab('duration')}\r\n              className={`growth-upward ${performanceTab === 'duration' && 'active'}`}\r\n              role=\"button\"\r\n              onKeyPress={() => {}}\r\n              tabIndex=\"0\"\r\n            >\r\n              <p>Session Duration</p>\r\n              <Heading as=\"h1\">\r\n                {performanceState.duration[0]}\r\n                <sub>\r\n                  <span>\r\n                    <FeatherIcon icon=\"arrow-up\" size={14} /> 13%\r\n                  </span>\r\n                </sub>\r\n              </Heading>\r\n            </div>\r\n          </Pstates>\r\n          {preIsLoading ? (\r\n            <div className=\"sd-spin\">\r\n              <Spin />\r\n            </div>\r\n          ) : (\r\n            <div className=\"performance-lineChart\">\r\n              <ChartjsAreaChart\r\n                id=\"performance\"\r\n                labels={performanceState.labels}\r\n                datasets={performanceDatasets}\r\n                options={{\r\n                  maintainAspectRatio: true,\r\n                  elements: {\r\n                    z: 9999,\r\n                  },\r\n                  legend: {\r\n                    display: false,\r\n                  },\r\n                  hover: {\r\n                    mode: 'index',\r\n                    intersect: false,\r\n                  },\r\n                  tooltips: {\r\n                    mode: 'label',\r\n                    intersect: false,\r\n                    backgroundColor: '#ffffff',\r\n                    position: 'average',\r\n                    enabled: false,\r\n                    custom: customTooltips,\r\n                    callbacks: {\r\n                      title() {\r\n                        return performanceTab;\r\n                      },\r\n                      label(t, d) {\r\n                        const { yLabel, datasetIndex } = t;\r\n                        return `<span class=\"chart-data\">${yLabel}k</span> <span class=\"data-label\">${d.datasets[datasetIndex].label}</span>`;\r\n                      },\r\n                    },\r\n                  },\r\n                  scales: {\r\n                    yAxes: [\r\n                      {\r\n                        gridLines: {\r\n                          color: '#e5e9f2',\r\n                          borderDash: [3, 3],\r\n                          zeroLineColor: '#e5e9f2',\r\n                          zeroLineWidth: 1,\r\n                          zeroLineBorderDash: [3, 3],\r\n                        },\r\n                        ticks: {\r\n                          beginAtZero: true,\r\n                          fontSize: 13,\r\n                          fontColor: '#182b49',\r\n                          max: 80,\r\n                          stepSize: 20,\r\n                          callback(label) {\r\n                            return `${label}k`;\r\n                          },\r\n                        },\r\n                      },\r\n                    ],\r\n                    xAxes: [\r\n                      {\r\n                        gridLines: {\r\n                          display: true,\r\n                          zeroLineWidth: 2,\r\n                          zeroLineColor: 'transparent',\r\n                          color: 'transparent',\r\n                          z: 1,\r\n                          tickMarkLength: 0,\r\n                        },\r\n                        ticks: {\r\n                          padding: 10,\r\n                        },\r\n                      },\r\n                    ],\r\n                  },\r\n                }}\r\n                height={window.innerWidth <= 575 ? 200 : 86}\r\n              />\r\n              <ul>\r\n                {performanceDatasets &&\r\n                  performanceDatasets.map((item, index) => {\r\n                    return (\r\n                      <li key={index + 1} className=\"custom-label\">\r\n                        <span\r\n                          style={{\r\n                            backgroundColor: item.borderColor,\r\n                          }}\r\n                        />\r\n                        {item.label}\r\n                      </li>\r\n                    );\r\n                  })}\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </Cards>\r\n      )}\r\n    </PerformanceChartWrapper>\r\n  );\r\n};\r\n\r\nexport default WebsitePerformance;\r\n"]},"metadata":{},"sourceType":"module"}